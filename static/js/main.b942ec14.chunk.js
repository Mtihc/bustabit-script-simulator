(this["webpackJsonpbustabit-script-simulator"]=this["webpackJsonpbustabit-script-simulator"]||[]).push([[0],{14:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_ScriptConstants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23),_simulate__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34),crypto_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),crypto_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_3__);function getLocalStorageScripts(){try{var e=JSON.parse(localStorage.getItem("scripts"))}catch(t){e=null}return e}function setLocalStorageScripts(e){void 0===e||null===e||e.constructor===Object&&0===Object.keys(e).length?localStorage.removeItem("scripts"):localStorage.setItem("scripts",JSON.stringify(e))}function onBeforeSave(e){var t=e.config;e.config=getConfigFromScriptText(e),assignConfigValues(e.config,t)}function assignConfigValues(e,t){if(!e||e.constructor!==Object)throw new TypeError("config should be an object");if(t&&t.constructor!==Object)throw new TypeError("values should be undefined or an object");if(!t)return e;for(var a in t)t[a]&&t[a].constructor===Object&&e[a]&&void 0!==t[a].value&&(e[a].value=t[a].value,"radio"===e[a].type&&(e[a].options=assignConfigValues(e[a].options||{},t[a].options)));return e}function splitConfigFromScriptText(script){var regexp=/^\s*(var config = {(?:.|\s)*?^};?)((?:.|\s)*)$/gm,match=regexp.exec(String(script.text).trim());if(null===match)throw new TypeError("The script should begin with: \r\nvar config = {\r\n  ...\r\n}\r\n");var config=eval(match[1]+"\r\nconfig;");return[config,match[2]]}function getConfigFromScriptText(e){return splitConfigFromScriptText(e)[0]}function getScriptTextWithoutConfig(e){return splitConfigFromScriptText(e)[1]}function getUniqueID(e){for(var t=0;t<3;t++){var a=String(crypto_js__WEBPACK_IMPORTED_MODULE_3___default.a.lib.WordArray.random(16));if(!e||-1===e.indexOf(a))return a}}var ScriptUtils={load(){var e=getLocalStorageScripts();return null!==e&&void 0!==e||(e=ScriptUtils.restoreSamples()),e},restoreSamples(){var e=getLocalStorageScripts()||{};return Object.keys(e).forEach((function(t){e[t].isSample&&delete e[t]})),_ScriptConstants__WEBPACK_IMPORTED_MODULE_1__.a.SCRIPT_SAMPLES.forEach((function(t){onBeforeSave(t),t.isSample=!0,t.id=getUniqueID(Object.keys(e)),e[t.id]=t})),setLocalStorageScripts(e),e},save(e){var t=getLocalStorageScripts();onBeforeSave(e),e.id||(e.id=getUniqueID(Object.keys(t))),t[e.id]=e,setLocalStorageScripts(t)},delete(e){var t=getLocalStorageScripts();delete t[e],setLocalStorageScripts(t)},run(e){var t=e.script,a=(e.gameHash,e.gameAmount,e.startingBalance,e.drawChart,e.quickTest,Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},arguments[0]));return delete a.script,a.config=t.config,a.text=getScriptTextWithoutConfig(t),{then:function(e){setTimeout((function(){Object(_simulate__WEBPACK_IMPORTED_MODULE_2__.a)(a).then((function(t){e(t)})).catch((function(t){console.error(t),e({error:t})}))}),100)}}}};__webpack_exports__.a=ScriptUtils},23:function(e,t,a){"use strict";var n={id:"",name:"Untitled Script",text:"var config = {\n\n};\n\nlog('Simulation begins here...')",config:void 0};t.a={SCRIPT_SAMPLES:[{name:"Flat Bet",text:"var config = {\n  wager: {\n    value: 1000, type: 'balance', label: 'wager'\n  },\n  payout: {\n    value: 2, type: 'multiplier', label: 'payout' }\n};\n\n// Try to bet immediately when script starts\nmakeBet();\n\nengine.on('GAME_STARTING', onGameStarted);\nengine.on('GAME_ENDED', onGameEnded);\n\nfunction onGameStarted() {\n  makeBet();\n}\n\nfunction onGameEnded() {\n  var lastGame = engine.history.first();\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  if (lastGame.cashedAt) {\n    var profit = Math.round((config.wager.value * config.payout.value - config.wager.value) / 100)\n    log('we won', profit, 'bits');\n  } else {\n    log('we lost', Math.round(config.wager.value / 100), 'bits');\n  }\n}\n\nfunction makeBet() {\n  engine.bet(config.wager.value, config.payout.value);\n  log('betting', Math.round(config.wager.value / 100), 'on', config.payout.value, 'x');\n}"},{name:"Martingale",text:"var config = {\n  baseBet: { value: 100, type: 'balance', label: 'base bet' },\n  payout: { value: 2, type: 'multiplier' },\n  stop: { value: 1e8, type: 'balance', label: 'stop if bet >' },\n  loss: {\n    value: 'increase', type: 'radio', label: 'On Loss',\n    options: {\n      base: { type: 'noop', label: 'Return to base bet' },\n      increase: { value: 2, type: 'multiplier', label: 'Increase bet by' },\n    }\n  },\n  win: {\n    value: 'base', type: 'radio', label: 'On Win',\n    options: {\n      base: { type: 'noop', label: 'Return to base bet' },\n      increase: { value: 2, type: 'multiplier', label: 'Increase bet by' },\n    }\n  }\n};\n\n\nlog('Script is running..');\n\nvar currentBet = config.baseBet.value;\n\n// Always try to bet when script is started\nengine.bet(roundBit(currentBet), config.payout.value);\n\nengine.on('GAME_STARTING', onGameStarted);\nengine.on('GAME_ENDED', onGameEnded);\n\nfunction onGameStarted() {\n  engine.bet(roundBit(currentBet), config.payout.value);\n}\n\nfunction onGameEnded() {\n  var lastGame = engine.history.first()\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  // we won..\n  if (lastGame.cashedAt) {\n    if (config.win.value === 'base') {\n      currentBet = config.baseBet.value;\n    } else {\n      console.assert(config.win.value === 'increase');\n      currentBet *= config.win.options.increase.value;\n    }\n    log('We won, so next bet will be', currentBet/100, 'bits')\n  } else {\n    // damn, looks like we lost :(\n    if (config.loss.value === 'base') {\n      currentBet = config.baseBet.value;\n    } else {\n      console.assert(config.loss.value === 'increase');\n      currentBet *= config.loss.options.increase.value;\n    }\n    log('We lost, so next bet will be', currentBet/100, 'bits')\n  }\n\n  if (currentBet > config.stop.value) {\n    log('Was about to bet', currentBet, 'which triggers the stop');\n    engine.removeListener('GAME_STARTING', onGameStarted);\n    engine.removeListener('GAME_ENDED', onGameEnded);\n  }\n}\n\nfunction roundBit(bet) {\n  return Math.round(bet / 100) * 100;\n}"},{name:"Payout Martingale",text:"var config = {\n  bet: {\n    value: 100,\n    type: 'balance'\n  },\n  basePayout: {\n    value: 1.2,\n    type: 'multiplier',\n    label: 'base payout'\n  },\n  stop: {\n    value: 20,\n    type: 'multiplier',\n    label: 'stop if payout >'\n  },\n  loss: {\n    value: 'increase',\n    type: 'radio',\n    label: 'On Loss',\n    options: {\n      base: {\n        type: 'noop',\n        label: 'Return to base payout'\n      },\n      increase: {\n        value: 0.1,\n        type: 'multiplier',\n        label: 'Increase payout by +'\n      },\n    }\n  },\n  win: {\n    value: 'base',\n    type: 'radio',\n    label: 'On Win',\n    options: {\n      base: {\n        type: 'noop',\n        label: 'Return to base payout'\n      },\n      increase: {\n        value: 1,\n        type: 'multiplier',\n        label: 'Increase payout by +'\n      },\n    }\n  }\n};\n\n\nlog('Script is running..');\n\nvar currentPayout = config.basePayout.value;\n\n// Always try to bet when script is started\nengine.bet(config.bet.value, currentPayout);\n\nengine.on('GAME_STARTING', onGameStarted);\nengine.on('GAME_ENDED', onGameEnded);\n\nfunction onGameStarted() {\n  log('betting', Math.round(config.bet.value / 100), 'at payout of', currentPayout, 'x')\n  engine.bet(config.bet.value, currentPayout);\n}\n\nfunction onGameEnded(info) {\n  var lastGame = engine.history.first()\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  // we won..\n  if (lastGame.cashedAt) {\n    if (config.win.value === 'base') {\n      currentPayout = config.basePayout.value;\n      log('won, so resetting payout to', currentPayout)\n    } else {\n      console.assert(config.win.value === 'increase');\n      currentPayout += config.win.options.increase.value;\n      log('won, so increasing payout to', currentPayout)\n    }\n  } else {\n    // damn, looks like we lost :(\n    if (config.loss.value === 'base') {\n      currentPayout = config.basePayout.value;\n      log('lost, so resetting payout to', currentPayout)\n    } else {\n      console.assert(config.loss.value === 'increase');\n      currentPayout += config.loss.options.increase.value;\n      log('lost, so increasing payout', currentPayout)\n    }\n  }\n\n  if (currentPayout > config.stop.value) {\n    log('Was about to bet with payout', currentPayout, 'which triggers the stop');\n    engine.removeListener('GAME_STARTING', onGameStarted);\n    engine.removeListener('GAME_ENDED', onGameEnded);\n  }\n}"}],NEW_SCRIPT:n}},34:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(setImmediate){var _home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(37),_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),events__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(35),events__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_6__),crypto_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(13),crypto_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_7__);function hashToBust(e){e=(e=crypto_js__WEBPACK_IMPORTED_MODULE_7___default.a.HmacSHA256(crypto_js__WEBPACK_IMPORTED_MODULE_7___default.a.enc.Hex.parse(e),"0000000000000000004d6ec16dafe9d8370958664c1dc422f452892264c59526").toString(crypto_js__WEBPACK_IMPORTED_MODULE_7___default.a.enc.Hex)).slice(0,13);var t=parseInt(e,16)/Math.pow(2,52);t=99/(1-t);var a=Math.floor(t);return Math.max(1,a/100)}function hashToBusts(e,t){if(isNaN(t)||t<=0)throw new TypeError("amount must be a number larger than zero.");var a=e,n=[];n.unshift({hash:a,bust:hashToBust(String(a))});for(var r=0;r<t;r++){var s=String(crypto_js__WEBPACK_IMPORTED_MODULE_7___default.a.SHA256(String(a))),l=hashToBust(s);n.unshift({hash:s,bust:l}),a=s}return n}var SimulatedBustabitHistory=function(){function e(){Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.a)(this,e),this.data=[]}return Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__.a)(e,[{key:"first",value:function(){return this.size>0?this.data[0]:null}},{key:"last",value:function(){return this.size>0?this.data[this.size-1]:null}},{key:"toArray",value:function(){return this.data}},{key:"size",get:function(){return this.data.length}},{key:"length",get:function(){return this.data.length}},{key:"start",get:function(){return 0}},{key:"end",get:function(){return this.data.length-1}}]),e}(),SimulatedBustabitEngine=function(e){Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(a,e);var t=Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(a);function a(){var e;return Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.a)(this,a),(e=t.call(this))._userInfo={uname:"Anonymous",balance:0,balanceATH:0,balanceATL:0,winStreak:0,loseStreak:0,streakSum:0,sumWagers:0,highBet:0,lowBet:0,bets:0,profit:0,profitATH:0,profitATL:0,profitPerHour:0,duration:0},e.history=new SimulatedBustabitHistory,e.bet=e.bet.bind(Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__.a)(e)),e}return Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__.a)(a,[{key:"getCurrentBet",value:function(){if(this.next)return{wager:this.next.wager,payout:this.next.payout}}},{key:"isBetQueued",value:function(){return!!this.next}},{key:"cancelQueuedBet",value:function(){this.next=void 0}},{key:"bet",value:function(e,t){var a=this;return new Promise((function(n,r){a.next={wager:e,payout:Math.round(100*t)/100,isAuto:!0,resolve:n,reject:r}})).catch((function(e){return console.error(e)}))}}]),a}(events__WEBPACK_IMPORTED_MODULE_6___default.a);function evalScript(){var config=this.config,engine=this.engine,userInfo=this.userInfo,log=this.log,stop=this.stop,gameResultFromHash=this.gameResultFromHash;eval(arguments[0])}function simulate(e){var t=e.text,a=e.config,n=e.startingBalance,r=e.gameHash,s=e.gameAmount,l=e.drawChart,i=e.quickTest;return new Promise((function(e,c){var o="",u=!1,m=void 0,p={log:console.log,warn:console.warn,info:console.info,error:console.error,debug:console.debug};function d(){}i||(console.log=d,console.warn=d,console.info=d,console.error=d,console.debug=d);var _=new SimulatedBustabitEngine,h=_._userInfo,b=i?function(){var e,t=Array.prototype.slice.call(arguments);o+=t.join(" ")+"\n",t.unshift("LOG:"),(e=console).log.apply(e,Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(t))}:function(){};h.balance=n,h.balanceATH=n,h.balanceATL=n;var E={duration:0,startingBalance:n,balance:n,balanceATH:n,balanceATL:n,bets:0,profit:0,lowBet:0,highBet:0,winStreak:0,loseStreak:0,streakSum:0,profitPerHour:0,profitATH:0,profitATL:0,message:"",history:_.history.data,log:o};l&&Object.assign(E,{chartData:[]});var f={config:a,engine:_,userInfo:h,log:b,stop:function(e){m=e,u=!0},gameResultFromHash:function(e){return new Promise((function(t){return t(hashToBust(e))}))}};evalScript.call(f,t);var g=hashToBusts(r,s);function v(e){e++,setImmediate((function(){e<g.length&&!u?function(e){var t=g[e];t.id=e,t.isSimulation=!0,t.wager=0,t.cashedAt=0,_.gameState="GAME_STARTING",_.emit("GAME_STARTING",{gameId:e});var a=_.next;if(_.next=null,a){if(isNaN(a.wager)||a.wager<100||a.wager%100!==0)return a.reject("INVALID_BET"),y();if(isNaN(a.payout))return a.reject("cannot parse JSON"),y();if(h.balance-a.wager<0)return a.reject("BET_TOO_BIG"),h.sumWagers+=a.wager,y();if(a.payout<=1)return a.reject("payout is too low"),y();a.wager>0&&(h.balance-=a.wager,h.bets++,h.sumWagers+=a.wager),a.resolve(null),_.emit("BET_PLACED",{uname:h.uname,wager:a.wager,payout:a.payout})}_.emit("GAME_STARTED",null),_.gameState="GAME_IN_PROGRESS",t.wager=a?a.wager:0,t.cashedAt=a&&a.wager>0&&a.payout<=t.bust?a.payout:0,0!==t.wager&&(h.balance+=t.cashedAt*t.wager,h.balance<h.balanceATL&&(h.balanceATL=h.balance),h.balance>h.balanceATH&&(h.balanceATH=h.balance),h.profit=h.balance-n,(!h.lowBet||t.wager<h.lowBet)&&(h.lowBet=t.wager),(!h.highBet||t.wager>h.highBet)&&(h.highBet=t.wager),h.profit<h.profitATL&&(h.profitATL=h.profit),h.profit>h.profitATH&&(h.profitATH=h.profit));t.cashedAt>0?(h.sinceWin=0,h.sinceLose++,h.sinceLose>h.winStreak&&(h.winStreak=h.sinceLose),h.streakSum<h.sumWagers&&(h.streakSum=h.sumWagers),h.sumWagers=0,_.emit("CASHED_OUT",{uname:h.uname,cashedAt:t.cashedAt,wager:t.wager})):0!==t.wager&&(h.sinceLose=0,h.sinceWin++,h.sinceWin>h.loseStreak&&(h.loseStreak=h.sinceWin));_.history.data.unshift(t),l&&E.chartData.unshift(Object.assign({payout:a?a.payout:0,balance:h.balance,profit:t.cashedAt>0?(t.cashedAt-1)*t.wager:-t.wager},t));h.duration+=Math.log(t.bust)/6e-5,_.gameState="GAME_ENDED",_.emit("GAME_ENDED",{hash:t.hash,bust:t.bust}),v(e)}(e):y()}))}function y(){i&&(console.log=p.log,console.warn=p.warn,console.info=p.info,console.error=p.error,console.debug=p.debug),u&&m&&b(m),h.streakSum<h.sumWagers&&(h.streakSum=h.sumWagers),E.duration=h.duration,E.startingBalance=n,E.balance=h.balance,E.bets=h.bets,E.profit=h.profit,E.lowBet=h.lowBet,E.highBet=h.highBet,E.streakSum=h.streakSum,E.loseStreak=h.loseStreak,E.winStreak=h.winStreak,E.profitATH=h.profitATH,E.profitATL=h.profitATL,E.balanceATH=h.balanceATH,E.balanceATL=h.balanceATL,E.profitPerHour=E.profit/(E.duration/36e5),E.message="".concat(h.bets," Games played. ").concat(E.profit>0?"Won":"Lost"," ").concat(E.profit/100," bits. ").concat(E.message||""),E.history=_.history.results,E.log=o,e(E)}v(null)}))}__webpack_exports__.a=simulate}).call(this,__webpack_require__(60).setImmediate)},38:function(e,t,a){e.exports=a(86)},43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),l=a.n(s),i=(a(43),a(9)),c=(a(44),a(45),a(10)),o=a(36),u=a(7),m=a(2),p=a(3),d=a(5),_=a(4),h=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleConfigFieldChange=n.handleConfigFieldChange.bind(Object(c.a)(n)),n}return Object(p.a)(a,[{key:"handleConfigFieldChange",value:function(e,t){for(var a=e.split("."),n=this.props.config,r=0;r<a.length;r++)n=n[a[r]];n.value=t,this.props.onChange(this.props.config)}},{key:"render",value:function(){var e=this,t=this.props,a=t.config,n=(t.onChange,t.className),s=void 0===n?"":n,l=Object(u.a)(t,["config","onChange","className"]);return r.a.createElement("div",Object.assign({},l,{className:"BustabitScript Config ".concat(s)}),a?Object.keys(a).map((function(t){var n=a[t];return(0,b[n.type])(Object(i.a)(Object(i.a)({},n),{},{name:t,onChange:e.handleConfigFieldChange}))})):null)}}]),a}(n.Component),b=Object.freeze({balance:function(e){var t=e.name,a=e.label,n=e.value,s=e.optional,l=e.onChange,i="config.".concat(t);return r.a.createElement("div",{className:"field is-horizontal",key:i},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{htmlFor:i,className:"label"},a||t)),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-right"},r.a.createElement("input",{type:"number",className:"input is-normal",id:i,name:t,value:parseFloat(n)/100,required:!s,step:"1",onChange:function(e){l(t,100*parseFloat(e.target.value))}}),r.a.createElement("span",{className:"icon is-small is-right"},"bits")))))},checkbox:function(e){var t=e.name,a=e.label,n=e.value,s=e.onChange,l="config.".concat(t);return r.a.createElement("div",{className:"field is-horizontal",key:l},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{htmlFor:l,className:"label"},a||t)),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"checkbox",className:"checkbox",id:l,name:t,checked:!!n,onChange:function(e){s(t,!!e.target.checked)}})))))},multiplier:function(e){var t=e.name,a=e.label,n=e.value,s=e.optional,l=e.onChange,i="config.".concat(t);return r.a.createElement("div",{className:"field is-horizontal",key:i},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{htmlFor:i,className:"label"},a||t)),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-right"},r.a.createElement("input",{type:"number",className:"input",id:i,name:t,value:parseFloat(n),required:!s,step:"0.01",onChange:function(e){l(t,parseFloat(e.target.value))}}),r.a.createElement("span",{className:"icon is-small is-right"},r.a.createElement("i",{className:"fas fa-times"}))))))},noop:function(e){var t=e.name,a=e.label,n=(e.value,"config.".concat(t));return r.a.createElement("div",{className:"field",key:n},r.a.createElement("label",{className:"label",htmlFor:n},a))},radio:function(e){var t=e.name,a=e.label,n=e.value,s=e.options,l=e.onChange;function c(e,t){l(e,t)}var o="config.".concat(t);return r.a.createElement("div",{className:"field",key:o},r.a.createElement("fieldset",{style:{width:"100%",padding:"10px 10px"}},r.a.createElement("legend",{className:"label has-text-centered is-uppercase"},a||t),Object.keys(s||{}).map((function(e){var a=s[e];return r.a.createElement("div",{key:"option-".concat(e),className:"field"},r.a.createElement("input",{type:"radio",name:t,id:"config.".concat(t,".options.").concat(e),value:e,checked:n===e,onChange:function(e){l(t,e.target.value)}}),"\xa0",r.a.createElement("div",{className:"is-inline-block"},b[a.type](Object(i.a)(Object(i.a)({},a),{},{onChange:c,name:"".concat(t,".options.").concat(e)}))))}))))},text:function(e){var t=e.name,a=e.label,n=e.value,s=e.optional,l=e.onChange,i="config.".concat(t);return r.a.createElement("div",{className:"field is-horizontal",key:i},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{htmlFor:i,className:"label"},a||t)),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"text",className:"input",id:i,name:t,value:n,required:!s,onChange:function(e){l(t,e.target.value)}})))))},number:function(e){var t=e.name,a=e.label,n=e.value,s=e.optional,l=e.onChange,i="config.".concat(t);return r.a.createElement("div",{className:"field is-horizontal",key:i},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{htmlFor:i,className:"label"},a||t)),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"number",className:"input",id:i,name:t,value:parseFloat(n),required:!s,step:"1",onChange:function(e){l(t,parseFloat(e.target.value))}})))))}});var E=h,f=a(6),g=(a(46),function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={tooltipData:void 0},n.handleTooltipChange=n.handleTooltipChange.bind(Object(c.a)(n)),n.shouldUpdateLineChart=n.shouldUpdateLineChart.bind(Object(c.a)(n)),n.updateLineChart=n.updateLineChart.bind(Object(c.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.container=l.a.findDOMNode(this),this.updateLineChart()}},{key:"componentDidUpdate",value:function(e,t){this.shouldUpdateLineChart(e)&&this.updateLineChart()}},{key:"render",value:function(){var e=this.props,t=(e.viewBoxWidth,e.viewBoxHeight,e.data,e.xAccessor,e.yAccessor,e.crosshairEnabled,e.crosshairClassName,e.className),a=void 0===t?"":t,n=Object(u.a)(e,["viewBoxWidth","viewBoxHeight","data","xAccessor","yAccessor","crosshairEnabled","crosshairClassName","className"]);return r.a.createElement("div",Object.assign({},n,{className:"LineChart ".concat(a)}),r.a.createElement("svg",{preserveAspectRatio:"xMinYMin meet"}),r.a.createElement("div",{className:"tooltip-container",style:{visibility:this.state.tooltipData?void 0:"hidden"}},r.a.createElement(v,{className:"tooltip",data:this.state.tooltipData})))}},{key:"handleTooltipChange",value:function(e){var t=e.data;this.setState({tooltipData:t})}},{key:"shouldUpdateLineChart",value:function(e){var t=this;return["viewBoxWidth","viewBoxHeight","data","xAccessor","yAccessor"].some((function(a){var n=e[a],r=t.props[a];return n!==r||Array.isArray(n)&&n.length!==r.length}))}},{key:"updateLineChart",value:function(){!function(e){var t=e.container,a=e.viewBoxWidth,n=e.viewBoxHeight,r=e.data,s=e.xAccessor,l=e.yAccessor,i=e.onTooltipChange,c=e.crosshairEnabled,o=e.crosshairClassName;if(!t)throw new TypeError("container should be an HTMLElement");if(isNaN(a)||isNaN(n))throw new TypeError("viewBoxWidth and viewBoxHeight should be numbers");if(!s||!l||"function"!==typeof s||"function"!==typeof l)throw new TypeError("xAccessor and yAccessor should be functions");if(!r||!Array.isArray(r))throw new TypeError("data should be an array");if(i&&"function"!==typeof i)throw new TypeError("onTooltipChange should be a function");if(c&&o&&"string"!==typeof o&&"function"!==typeof o)throw new TypeError("crosshairClassName should be a string or a function");var u=(t=f.k(t)).select("svg");if(!u)throw new TypeError("container should have a child <svg></svg>");var m=t.select(".tooltip");u.attr("viewBox","0 0 ".concat(a," ").concat(n));var p={top:20,right:20,bottom:110,left:40},d={top:430,right:20,bottom:30,left:40},_=+a-p.left-p.right,h=+n-p.top-p.bottom,b=+n-d.top-d.bottom;u.selectAll("*").remove();var E,g=f.j().range([0,_]),v=f.j().range([0,_]),y=f.j().range([h,0]),O=f.j().range([b,0]),N=f.a(g),w=f.a(v),C=f.b(y).tickFormat((function(e){return Math.round(e)/100})),S=function(e){return g(s(e))},j=function(e){return y(l(e))},A=f.h().x(S).y(j),k=f.h().x((function(e){return v(s(e))})).y((function(e){return O(l(e))})),T=f.d().extent([[0,0],[_,b]]).on("brush end",(function(){if(f.f.sourceEvent&&"zoom"===f.f.sourceEvent.type)return;var e=f.f.selection||v.range();g.domain(e.map(v.invert,v)),x.select(".data-line").attr("d",A),x.selectAll(".data-point").attr("cx",S).attr("cy",j),E&&I(E);P.select(".axis-x").call(N),u.select(".zoom").call(D.transform,f.m.scale(_/(e[1]-e[0])).translate(-e[0],0))})),D=f.l().scaleExtent([1,1/0]).translateExtent([[0,0],[_,h]]).extent([[0,0],[_,h]]).on("zoom",(function(){if(f.f.sourceEvent&&"brush"===f.f.sourceEvent.type)return;var e=f.f.transform;g.domain(e.rescaleX(v).domain()),x.select(".data-line").attr("d",A),x.selectAll(".data-point").attr("cx",S).attr("cy",j),E&&I(E);P.select(".axis-x").call(N),M.select(".brush").call(T.move,g.range().map(e.invertX,e))}));u.append("defs").append("svg:clipPath").attr("id","clip").append("svg:rect").attr("width",_).attr("height",h).attr("x",0).attr("y",0);var B,x=u.append("g").attr("class","data-lines").attr("transform","translate("+p.left+","+p.top+")").attr("clip-path","url(#clip)");c&&((B=u.append("g")).attr("class","crosshair").attr("transform","translate("+p.left+","+p.top+")").attr("clip-path","url(#clip)"),B.append("line").attr("class","crosshair-line crosshair-line-x"),B.append("line").attr("class","crosshair-line crosshair-line-y"));var P=u.append("g").attr("class","axes").attr("transform","translate("+p.left+","+p.top+")"),M=u.append("g").attr("class","context").attr("transform","translate("+d.left+","+d.top+")"),L=u.append("rect").attr("class","zoom").attr("width",_).attr("height",h).attr("transform","translate("+p.left+","+p.top+")");function I(e){var t=g.domain(),a=y.domain();B.select(".crosshair-line-x").transition().ease(f.e).attr("x1",S(e)).attr("y1",y(a[0])).attr("x2",S(e)).attr("y2",y(a[1])).duration(100),B.select(".crosshair-line-y").transition().ease(f.e).attr("x1",g(t[0])).attr("y1",j(e)).attr("x2",g(t[1])).attr("y2",j(e)).duration(100)}!function(e){g.domain(f.g(e,s)),y.domain(f.g(e,l)),v.domain(g.domain()),O.domain(y.domain()),P.append("g").attr("class","axis axis-x").attr("transform","translate(0,"+h+")").call(N),P.append("g").attr("class","axis axis-y").call(C),x.append("path").datum(e).attr("class","data-line").attr("d",A),x.selectAll(".data-point").data(e).enter().append("circle").attr("class",(function(e){return"data-point "+(0===e.profit?"is-warning":e.profit>0?"is-success":"is-danger")})).attr("cx",S).attr("cy",j).attr("r",0),M.append("path").datum(e).attr("class","data-line").attr("d",k),M.append("g").attr("class","axis axis-x").attr("transform","translate(0,"+b+")").call(w),M.append("g").attr("class","brush").call(T).call(T.move,g.range()),L.call(D),L.on("mousemove",(function(){var l,c=f.i(this)[0],o=g.invert(c),p=r(e,o),d=e[p-1],_=e[p];l=_?d&&Math.abs(o-s(_))>Math.abs(o-s(d))?d:_:d;E=l,x.selectAll(".data-point").classed("hover",(function(e){return s(e)===s(E)})),I(E),function(e){if(m&&u&&t&&a&&n){var r,s,l=f.i(u.node()),c=f.i(t.node()),o={left:25,top:25},p=m.node().getBoundingClientRect();r=l[0]>a-p.width?c[0]-p.width-o.left:c[0]+o.left,s=l[1]>n-p.height?c[1]-p.height-o.top:c[1]+o.top,m.style("top",s+"px").style("left",r+"px"),i&&i({data:e})}}(l)})).on("mouseover",(function(){m&&m.style("opacity",1),B&&B.style("opacity",1)})).on("mouseout",(function(){m&&m.style("opacity",0),B&&B.style("opacity",0),x.selectAll(".data-point").classed("hover",!1)}));var r=f.c((function(e,t){return t-s(e)})).left}(r)}({container:this.container,viewBoxWidth:this.props.viewBoxWidth,viewBoxHeight:this.props.viewBoxHeight,onTooltipChange:this.handleTooltipChange,data:this.props.data,xAccessor:this.props.xAccessor,yAccessor:this.props.yAccessor,crosshairEnabled:this.props.crosshairEnabled,crosshairClassName:this.props.crosshairClassName})}}]),a}(n.Component)),v=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=Object(u.a)(e,["data"]),n=t||{},s=n.id,l=n.hash,i=n.bust,c=n.wager,o=n.payout,m=n.cashedAt,p=n.profit,d=n.balance;return r.a.createElement("div",a,t&&r.a.createElement("table",{className:"table is-hoverable is-transparent"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Game ID"),r.a.createElement("td",null,s)),r.a.createElement("tr",null,r.a.createElement("th",null,"Hash"),r.a.createElement("td",null,r.a.createElement("input",{className:"input",type:"text",value:l,readOnly:!0}))),r.a.createElement("tr",null,r.a.createElement("th",null,"Bust"),r.a.createElement("td",null,"".concat(i,"x"))),r.a.createElement("tr",null,r.a.createElement("th",null,"Bet"),r.a.createElement("td",null,0===c?"Didn't play":"".concat(o,"x ").concat(Math.round(c)/100," bits"))),r.a.createElement("tr",null,r.a.createElement("th",null,"Cashed At"),r.a.createElement("td",null,m>0?"".concat(m,"x"):"-")),r.a.createElement("tr",null,r.a.createElement("th",null,"Profit"),r.a.createElement("td",{className:0===p?"has-text-warning":p>0?"has-text-success":"has-text-danger"},Math.round(p)/100," bits")),r.a.createElement("tr",null,r.a.createElement("th",null,"Balance"),r.a.createElement("td",null,Math.round(d)/100," bits")))))}}]),a}(n.Component);var y=g,O=(a(47),function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"viewState",value:function(){return this.props.scripts.editing?"edit":this.props.scripts.creating?"new":this.props.scripts.deleting?"delete":this.props.scripts.selected?"show":"list"}},{key:"componentDidMount",value:function(){this.props.scripts.load()}},{key:"render",value:function(){var e=this.viewState(),t=this.props,a=t.scripts,n=t.className,s=void 0===n?"":n,l=Object(u.a)(t,["scripts","className"]);return r.a.createElement("div",Object.assign({},l,{className:s}),("list"===e||"delete"===e)&&r.a.createElement(w,{scripts:a}),"edit"===e&&r.a.createElement(x,{script:a.editing,error:a.updateError,onCancel:a.onCancel,onSave:a.onSave}),"new"===e&&r.a.createElement(P,{script:a.creating,error:a.createError,onCancel:a.onCancel,onSave:a.onSave}),"show"===e&&r.a.createElement(C,{scripts:a}))}}]),a}(n.Component)),N=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=Object(u.a)(e,["className"]);return r.a.createElement("div",Object.assign({},n,{className:"".concat(a)}),r.a.createElement("p",null,r.a.createElement("span",{className:"bustabit-logo"}),r.a.createElement("span",{className:"bustabit-title"},"Bustabit")),r.a.createElement("p",null,r.a.createElement("span",{className:"script-simulator-title"},"Script Simulator")))}}]),a}(n.Component),w=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=e.scripts,s=Object(u.a)(e,["className","scripts"]),l=n.deleting?n.deleting.id:void 0;return r.a.createElement("div",Object.assign({},s,{className:"BustabitScript-List box is-inline-block ".concat(a)}),r.a.createElement("table",{className:"table is-hoverable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"},r.a.createElement("h3",{className:"subtitle is-4"},"My Scripts")),r.a.createElement("th",{colSpan:"2"},r.a.createElement(T,{onClick:function(){return n.onNew()}})))),r.a.createElement("tbody",null,n.items.entrySeq().map((function(e){var t=Object(o.a)(e,2)[1],a=t.id;return a===l?r.a.createElement("tr",{key:a},r.a.createElement("th",null,t.name),r.a.createElement("td",{colSpan:"3",style:{maxWidth:"9rem"}},r.a.createElement(S,{key:a,script:n.deleting,onCancel:n.onCancel,onDeleted:n.onDeleted}))):r.a.createElement("tr",{key:a},r.a.createElement("th",null,t.name),r.a.createElement("td",null,r.a.createElement(A,{onClick:function(){return n.onSelect(a)}})),r.a.createElement("td",null,r.a.createElement(j,{onClick:function(){return n.onEdit(a)}})),r.a.createElement("td",null,r.a.createElement(k,{onClick:function(){return n.onDelete(a)}})))})))))}}]),a}(n.Component);var C=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={script:e.scripts.selected,startingBalance:1e6,gameHash:"7edbd07968e771f205a4e2b67701c2f6993437db0c557160ba79ee70ea6d10c6",gameAmount:1e3,drawChart:!0,quickTest:!0},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){if(this.props.scripts.results!==e.scripts.results){var t=document.getElementById("results");if(t){var a=t.getBoundingClientRect().top+window.scrollY;window.scrollTo({behavior:"smooth",top:a})}}}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=void 0===a?"":a,s=t.scripts,l=Object(u.a)(t,["className","scripts"]);return r.a.createElement("div",Object.assign({},l,{className:"BustabitScript Show ".concat(n)}),this.state.script&&r.a.createElement("div",{key:this.state.script.id},r.a.createElement("div",{className:"box is-inline-block has-text-left"},r.a.createElement("div",null,r.a.createElement(D,{className:"".concat(s.isLoading?"is-loading":""),onClick:s.onDeselect}),r.a.createElement(j,{className:"is-pulled-right",onClick:function(){return s.onEdit(e.state.script.id)}})),r.a.createElement("hr",{className:"hr"}),r.a.createElement(E,{config:this.state.script.config,onChange:function(t){e.setState((function(e){var a=e.script;return a.config=t,{script:a}}))}}),r.a.createElement("hr",{className:"hr"}),r.a.createElement(M,{label:"Starting Balance",icon:"fas fa-coins"},r.a.createElement("input",{className:"input is-normal",type:"number",required:!0,min:"1",step:"1",name:"startingBalance",value:this.state.startingBalance/100,onChange:function(t){var a={[t.target.name]:100*parseFloat(t.target.value)};e.setState(a)}})),r.a.createElement(M,{label:"Hash",icon:"fas fa-key"},r.a.createElement("input",{className:"input is-normal",type:"text",required:!0,name:"gameHash",value:this.state.gameHash,onChange:function(t){e.setState({[t.target.name]:String(t.target.value)})}})),r.a.createElement(M,{label:"Games",icon:"fas fa-hashtag"},r.a.createElement("input",{className:"input is-normal",type:"number",required:!0,min:"1",step:"1",name:"gameAmount",value:this.state.gameAmount,onChange:function(t){e.setState({[t.target.name]:parseInt(t.target.value)})}})),r.a.createElement("hr",{className:"hr"}),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-success ".concat(s.isLoading?"is-loading":""),disabled:!(this.state.script&&this.state.gameHash&&this.state.gameAmount&&this.state.startingBalance),onClick:function(){var t={script:e.state.script,gameHash:e.state.gameHash,gameAmount:e.state.gameAmount,startingBalance:e.state.startingBalance,drawChart:e.state.drawChart,quickTest:e.state.quickTest};s.onRun(t)}},"Run Script")),r.a.createElement("div",{className:"control"},r.a.createElement("p",null,r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{className:"checkbox",type:"checkbox",name:"drawChart",checked:this.state.drawChart,onChange:function(t){e.setState({[t.target.name]:Boolean(t.target.checked)})}}),"\xa0 Enable Chart")),r.a.createElement("p",null,r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{className:"checkbox",type:"checkbox",name:"quickTest",checked:this.state.quickTest,onChange:function(t){e.setState({[t.target.name]:Boolean(t.target.checked)})}}),"\xa0 Enable Log")))),r.a.createElement("div",null,r.a.createElement("textarea",{className:"textarea",value:s.results?s.results.log:void 0,readOnly:!0,style:{width:"100%",height:"200px",resize:"both"},placeholder:"Script logs will appear here"})))),s.selected&&s.results&&r.a.createElement("section",{className:"section"},r.a.createElement("div",{id:"results"}),s.results.error&&r.a.createElement("div",{className:"notification is-danger"},r.a.createElement("h3",{className:"is-3"},"Error"),r.a.createElement("pre",{className:"notification is-danger has-text-left"},String(s.results.error))),!s.results.error&&r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-fifth"},r.a.createElement("table",{className:"table is-hoverable box is-inline-block"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Games Played"),r.a.createElement("td",null,s.results.bets," games")),r.a.createElement("tr",null,r.a.createElement("th",null,"Duration"),r.a.createElement("td",null,function(e){var t=Math.floor(e/1e3%60),a=Math.floor(e/6e4%60),n=Math.floor(e/36e5%24),r=Math.floor(e/864e5);return(r>0?r+"d ":"")+(n=n<10?"0"+n:n)+"h "+(a=a<10?"0"+a:a)+"m "+(t=t<10?"0"+t:t)+"s"}(s.results.duration))),r.a.createElement("tr",null,r.a.createElement("th",null,"Start Balance"),r.a.createElement("td",null,s.results.startingBalance/100," bits")),r.a.createElement("tr",null,r.a.createElement("th",null,"Smallest Bet"),r.a.createElement("td",null,s.results.lowBet/100," bits")),r.a.createElement("tr",null,r.a.createElement("th",null,"Largest Bet"),r.a.createElement("td",null,s.results.highBet/100," bits")),r.a.createElement("tr",null,r.a.createElement("th",null,"Win Streak"),r.a.createElement("td",null,s.results.winStreak," games")),r.a.createElement("tr",null,r.a.createElement("th",null,"Lose Streak"),r.a.createElement("td",null,s.results.loseStreak," games")),r.a.createElement("tr",null,r.a.createElement("th",null,"Streak Cost"),r.a.createElement("td",null,s.results.streakSum/100," bits")),r.a.createElement("tr",null,r.a.createElement("th",null,"Profit ATL"),r.a.createElement("td",null,(s.results.profitATL/100).toFixed(2)," bits")),r.a.createElement("tr",null,r.a.createElement("th",null,"Profit ATH"),r.a.createElement("td",null,(s.results.profitATH/100).toFixed(2)," bits")),r.a.createElement("tr",null,r.a.createElement("th",null,"Balance ATL"),r.a.createElement("td",null,(s.results.balanceATL/100).toFixed(2)," bits")),r.a.createElement("tr",null,r.a.createElement("th",null,"Balance ATH"),r.a.createElement("td",null,(s.results.balanceATH/100).toFixed(2)," bits")),r.a.createElement("tr",null,r.a.createElement("th",null,"End Profit"),r.a.createElement("td",{className:"".concat(s.results.profit>=0?"has-text-success":"has-text-danger")},(Math.round(s.results.profit)/100).toFixed(2)," bits")),r.a.createElement("tr",null,r.a.createElement("th",null,"End Balance"),r.a.createElement("td",null,s.results.balance/100," bits")),s.results.profit>0&&r.a.createElement("tr",null,r.a.createElement("th",null,"Profit per hour"),r.a.createElement("td",null,Math.round(s.results.profitPerHour)/100," bits")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},s.results.message||""))))),s.results.chartData&&r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"has-text-centered box"},r.a.createElement(y,{viewBoxWidth:960,viewBoxHeight:500,data:s.results.chartData,xAccessor:function(e){return e.id},yAccessor:function(e){return e.balance},crosshairEnabled:!0,crosshairClassName:function(e){return e.profit>0?"is-success":"is-danger"}})))),r.a.createElement(B,null)))}}]),a}(n.Component),S=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.script?r.a.createElement("div",null,r.a.createElement("p",null,"Are you sure you want to delete this script?"),r.a.createElement("div",{className:"buttons is-pulled-right"},r.a.createElement("button",{className:"button",onClick:function(){var t=e.props.script.id;e.props.onDeleted(t,!0)}},"Yes"),r.a.createElement("button",{className:"button",onClick:this.props.onCancel},"No"))):null)}}]),a}(n.Component),j=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=Object(u.a)(e,["className"]);return r.a.createElement("div",{className:"BustabitScript EditButton control ".concat(a)},r.a.createElement("button",Object.assign({},n,{className:"button is-info ".concat(a)}),r.a.createElement("span",{className:"icon is-normal",width:"2em",height:"2em"},r.a.createElement("i",{className:"fas fa-eye"}))))}}]),a}(n.Component),A=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=Object(u.a)(e,["className"]);return r.a.createElement("div",{className:"BustabitScript SelectButton control"},r.a.createElement("button",Object.assign({},n,{className:"button ".concat(a)}),r.a.createElement("span",{className:"icon is-normal",width:"2em",height:"2em"},r.a.createElement("i",{className:"fas fa-play"}))))}}]),a}(n.Component),k=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=Object(u.a)(e,["className"]);return r.a.createElement("div",{className:"BustabitScript DeleteButton control"},r.a.createElement("button",Object.assign({},n,{className:"button ".concat(a)}),r.a.createElement("span",{className:"icon is-normal",width:"2em",height:"2em"},r.a.createElement("i",{className:"fas fa-trash-alt"}))))}}]),a}(n.Component),T=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=Object(u.a)(e,["className"]);return r.a.createElement("div",{className:"BustabitScript NewButton control is-pulled-right"},r.a.createElement("button",Object.assign({},n,{className:"button is-success ".concat(a)}),r.a.createElement("span",{className:"icon is-normal",width:"2em",height:"2em"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement("span",null,"New")))}}]),a}(n.Component),D=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=Object(u.a)(e,["className"]);return r.a.createElement("a",Object.assign({},n,{className:"button is-normal ".concat(a)}),r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("span",null,"Go Back"))}}]),a}(n.Component),B=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props||{},t=e.className,a=void 0===t?"":t,n=e.onClick,s=Object(u.a)(e,["className","onClick"]);return r.a.createElement("button",Object.assign({},s,{className:"button is-normal ".concat(a),onClick:function(){window.scroll({top:0,behavior:"smooth"}),n&&n()}}),r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:"fas fa-arrow-up"})),r.a.createElement("span",null,"Back to Top"))}}]),a}(n.Component),x=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).close=n.close.bind(Object(c.a)(n)),n}return Object(p.a)(a,[{key:"close",value:function(e){e&&e.preventDefault(),this.props.onCancel()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"BustabitScript Edit modal"+(this.props.script?" is-active":"")},r.a.createElement("div",{className:"modal-background",onClick:this.close}),r.a.createElement("div",{className:"modal-card",style:{width:"90%"}},r.a.createElement("form",{onSubmit:function(t){t&&t.preventDefault();var a=String(t.target.id.value||"").trim(),n=String(t.target.name.value||"").trim(),r=String(t.target.text.value||"").trim(),s=Object(i.a)(Object(i.a)({},e.props.script),{},{id:a,name:n,text:r});e.props.onSave(s)}},r.a.createElement("header",{className:"modal-card-head"},r.a.createElement("p",{className:"modal-card-title"},"Edit Script"),r.a.createElement("button",{className:"delete",onClick:this.close})),r.a.createElement("section",{className:"modal-card-body"},this.props.error&&r.a.createElement("div",{className:"notification is-warning"},r.a.createElement("p",null,r.a.createElement("strong",null,"Error")),r.a.createElement("pre",{className:"notification is-warning has-text-left"},String(this.props.error))),r.a.createElement("input",{className:"input",type:"hidden",name:"id",defaultValue:this.props.script?this.props.script.id:""}),r.a.createElement("input",{className:"input is-normal",required:!0,type:"text",name:"name",defaultValue:this.props.script?this.props.script.name:""}),r.a.createElement("textarea",{className:"textarea is-normal",required:!0,rows:"10",name:"text",defaultValue:this.props.script?this.props.script.text:""})),r.a.createElement("footer",{className:"modal-card-foot"},r.a.createElement("button",{className:"button is-success",type:"submit"},"Save Script"),r.a.createElement("button",{className:"button",onClick:this.close},"Cancel")))))}}]),a}(n.Component),P=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return a}(x),M=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.label,n=e.icon,s=e.className,l=void 0===s?"":s,i=Object(u.a)(e,["children","label","icon","className"]);return r.a.createElement("div",{className:"field is-horizontal"},void 0===a?null:r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},a)),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",Object.assign({className:"control ".concat(n?" has-icons-left":""," ").concat(l)},i),t,n&&r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:n}))))))}}]),a}(n.Component),L={App:O,Title:N,EditButton:j},I=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isOpen:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=void 0===a?"":a,s=Object(u.a)(t,["className"]);return r.a.createElement("div",null,r.a.createElement("button",Object.assign({},s,{className:"button ".concat(n),onClick:function(){return e.setState({isOpen:!0})}}),r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:"fas fa-exclamation"})),r.a.createElement("span",{className:"is-uppercase"},"Disclaimer")),r.a.createElement(R,{isOpen:this.state.isOpen,onClose:function(){return e.setState({isOpen:!1})}}))}}]),a}(n.Component),R=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"modal"+(this.props.isOpen?" is-active":"")},r.a.createElement("div",{className:"modal-background",onClick:this.props.onClose}),r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"box"},r.a.createElement("h4",{className:"title is-4"},r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:"fas fa-exclamation"})),"Disclaimer"),r.a.createElement("p",null,"No one is responsible if you lose money using this tool and/or trusting its results."),r.a.createElement("p",null,"All it does is simulate you running a script on previous bustabit games. "),r.a.createElement("p",null,"Results achieved in the past don't provide any guarantee for the future."),r.a.createElement("p",null,"And, there's no guarantee that the simulated engine on this site, behaves in exactly the same way as the engine on bustabit."))),r.a.createElement("button",{className:"modal-close is-large",onClick:this.props.onClose}))}}]),a}(n.Component),W=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isOpen:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=void 0===a?"":a,s=Object(u.a)(t,["className"]);return r.a.createElement("div",null,r.a.createElement("button",Object.assign({},s,{className:"button ".concat(n),onClick:function(){return e.setState({isOpen:!0})}}),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-hand-holding-usd"})),r.a.createElement("span",{className:"is-uppercase"},"Send a tip...")),r.a.createElement(U,{isOpen:this.state.isOpen,onClose:function(){return e.setState({isOpen:!1})}}))}}]),a}(n.Component),U=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"modal"+(this.props.isOpen?" is-active":"")},r.a.createElement("div",{className:"modal-background",onClick:this.props.onClose}),r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"box"},r.a.createElement("p",null,r.a.createElement("strong",null,"Hello fellow gambler!")),r.a.createElement("p",null,"I hope you like my Bustabit Simulator. I worked hard on it.",r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:"fas fa-grin-beam-sweat"}))),r.a.createElement("p",null,"If you use this tool regularly, please consider donating a dollar or two."),r.a.createElement("p",null,r.a.createElement("a",{href:"https://bustabit.com/tip",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",null,"https://bustabit.com/tip")),r.a.createElement("span",null,"My username is "),r.a.createElement("span",{className:"is-bold"},"Mtihc")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://paypal.me/MitchStoffels",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",null,"https://paypal.me/MitchStoffels"))))),r.a.createElement("button",{className:"modal-close is-large",onClick:this.props.onClose}))}}]),a}(n.Component);var G=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"navbar has-shadow"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement(L.Title,null))),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"buttons"},r.a.createElement(I,{className:"is-small"}),r.a.createElement(W,{className:"is-small"})))))),r.a.createElement("main",{className:"section has-text-centered"},r.a.createElement(L.App,{scripts:e.scripts})))},H=a(17),q=a(22),K={LOADED:"scripts/loaded",NEW:"scripts/new",CREATE_ERROR:"scripts/create-error",CREATED:"scripts/created",EDIT:"scripts/edit",UPDATE_ERROR:"scripts/update-error",UPDATED:"scripts/updated",CANCEL:"scripts/cancel",DELETE:"scripts/delete",DELETE_ERROR:"scripts/delete-error",DELETED:"scripts/deleted",SIMULATE:"scripts/simulate",SIMULATED:"scripts/simulated"},F=new(a(33).Dispatcher),z=new(function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.call(this,F)}return Object(p.a)(a,[{key:"getInitialState",value:function(){return q.a.OrderedMap()}},{key:"reduce",value:function(e,t){switch(t.type){case K.LOADED:return e.clear().merge(t.scripts);case K.DELETED:return e.delete(t.id);case K.CREATED:case K.UPDATED:return e.set(t.script.id,t.script);default:return e}}}]),a}(H.ReduceStore)),V=a(23),J=new(function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(m.a)(this,a),t.call(this,F)}return Object(p.a)(a,[{key:"getInitialState",value:function(){return q.a.OrderedMap({creating:void 0,editingId:void 0,deletingId:void 0,selectedId:void 0,isSimulating:!1,results:void 0,error:void 0})}},{key:"reduce",value:function(e,t){switch(t.type){case K.NEW:return e.set("creating",Object.assign({},V.a.NEW_SCRIPT)).set("createError",void 0);case K.CREATED:return e.set("creating",void 0).set("createError",void 0);case K.CREATE_ERROR:return e.set("createError",t.error);case K.EDIT:return e.set("editingId",t.id).set("updateError",void 0);case K.UPDATED:return e.set("editingId",void 0).set("updateError",void 0);case K.UPDATE_ERROR:return e.set("updateError",t.error);case K.DELETE:return e.set("deletingId",t.id).set("deleteError",void 0);case K.DELETED:return e.set("deletingId",void 0).set("deleteError",void 0);case K.DELETE_ERROR:return e.set("deleteError",t.error);case K.CANCEL:return e.set("creating",void 0).set("editingId",void 0).set("deletingId",void 0).set("createError",void 0).set("updateError",void 0).set("deleteError",void 0);case K.SELECT:return e.set("selectedId",t.id).set("results",void 0);case K.DESELECT:return e.set("selectedId",void 0);case K.SIMULATE:return e.set("results",void 0).set("isSimulating",!0);case K.SIMULATED:return e.set("results",t.results).set("isSimulating",!1);default:return e}}}]),a}(H.ReduceStore)),Y=a(14),Q={load(){var e=Y.a.load();F.dispatch({type:K.LOADED,scripts:e})},restoreSamples(){var e=Y.a.restoreSamples();F.dispatch({type:K.LOADED,scripts:e})},delete(e){F.dispatch({type:K.DELETE,id:e})},deleted(e){Y.a.delete(e),F.dispatch({type:K.DELETED,id:e})},save(e){if(e.id)try{Y.a.save(e),F.dispatch({type:K.UPDATED,script:e})}catch(t){F.dispatch({type:K.UPDATE_ERROR,script:e,error:t})}else try{Y.a.save(e),F.dispatch({type:K.CREATED,script:e})}catch(t){F.dispatch({type:K.CREATE_ERROR,script:e,error:t})}},new(){F.dispatch({type:K.NEW})},edit(e){F.dispatch({type:K.EDIT,id:e})},cancel(){F.dispatch({type:K.CANCEL})},select(e){F.dispatch({type:K.SELECT,id:e})},deselect(){F.dispatch({type:K.DESELECT})},run(e){Q.save(e.script),F.dispatch({type:K.SIMULATE,settings:e}),Y.a.run(e).then((function(e){F.dispatch({type:K.SIMULATED,results:e})}))}},X=Q;var $=H.Container.createFunctional(G,(function(){return[z,J]}),(function(){var e=z.getState(),t=J.getState();return{scripts:Object(i.a)(Object(i.a)({},{items:e,creating:t.get("creating"),editing:e.get(t.get("editingId")),deleting:e.get(t.get("deletingId")),selected:e.get(t.get("selectedId")),isLoading:t.get("isSimulating"),results:t.get("results"),createError:t.get("createError"),updateError:t.get("updateError"),deleteError:t.get("deleteError")}),{load:X.load,onNew:X.new,onEdit:X.edit,onCancel:X.cancel,onSave:X.save,onDelete:X.delete,onDeleted:X.deleted,onSelect:X.select,onDeselect:X.deselect,onRun:X.run})}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.b942ec14.chunk.js.map