(this["webpackJsonpbustabit-script-simulator"]=this["webpackJsonpbustabit-script-simulator"]||[]).push([[0],{12:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_AppUtils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),_ScriptConstants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_simulate__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(42),jszip__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(44),jszip__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_4__),file_saver__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(32),file_saver__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_5__);function getLocalStorageScripts(){try{var e=JSON.parse(localStorage.getItem("scripts"))}catch(t){e=null}return e}function setLocalStorageScripts(e){void 0===e||null===e||e.constructor===Object&&0===Object.keys(e).length?localStorage.removeItem("scripts"):localStorage.setItem("scripts",JSON.stringify(e))}function onBeforeSave(e){var t=e.config;e.config=getConfigFromScriptText(e),assignConfigValues(e.config,t)}function assignConfigValues(e,t){if(!e||e.constructor!==Object)throw new TypeError("config should be an object");if(t&&t.constructor!==Object)throw new TypeError("values should be undefined or an object");if(!t)return e;for(var n in t)t[n]&&t[n].constructor===Object&&e[n]&&void 0!==t[n].value&&(e[n].value=t[n].value,"radio"===e[n].type&&(e[n].options=assignConfigValues(e[n].options||{},t[n].options)));return e}function splitConfigFromScriptText(script){var regexp=/^\s*(var config = {(?:.|\s)*?^};?)((?:.|\s)*)$/gm,match=regexp.exec(String(script.text).trim());if(null===match)throw new TypeError("The script should begin with: \r\nvar config = {\r\n  ...\r\n}\r\n");var config=eval(match[1]+"\r\nconfig;");return[config,match[2]]}function getConfigFromScriptText(e){return splitConfigFromScriptText(e)[0]}function getScriptTextWithoutConfig(e){return splitConfigFromScriptText(e)[1]}var ScriptUtils={load:function(){var e=getLocalStorageScripts();return null!==e&&void 0!==e||(e=ScriptUtils.restoreSamples()),e},restoreSample:function(e){var t,n,a=getLocalStorageScripts()||{};if(!(null===(t=a[e])||void 0===t?void 0:t.isSample))throw new Error("Can't restore script ".concat(e," (").concat((null===(n=a[e])||void 0===n?void 0:n.name)||"unknown","), ")+"it's not a sample script.");var s,i=_ScriptConstants__WEBPACK_IMPORTED_MODULE_2__.a.SCRIPT_SAMPLES.find((function(t){return t.name===a[e].name}));if(!i)throw new Error("Can't restore script ".concat(e," (").concat((null===(s=a[e])||void 0===s?void 0:s.name)||"unknown","), ")+"the name does not match any known sample scripts.");return a[e].text=i.text,onBeforeSave(a[e]),setLocalStorageScripts(a),a},restoreSamples:function(){var e=getLocalStorageScripts()||{};return Object.keys(e).forEach((function(t){e[t].isSample&&delete e[t]})),_ScriptConstants__WEBPACK_IMPORTED_MODULE_2__.a.SCRIPT_SAMPLES.forEach((function(t){(t=Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},t)).isSample=!0,t.id=Object(_AppUtils__WEBPACK_IMPORTED_MODULE_1__.a)(Object.keys(e)),onBeforeSave(t),e[t.id]=t})),setLocalStorageScripts(e),e},save:function(e){var t=getLocalStorageScripts();onBeforeSave(e),e.id||(e.id=Object(_AppUtils__WEBPACK_IMPORTED_MODULE_1__.a)(Object.keys(t))),t[e.id]=e,setLocalStorageScripts(t)},delete:function(e){var t=getLocalStorageScripts();delete t[e],setLocalStorageScripts(t)},run:function(e){var t=e.script,n=(e.gameHash,e.gameAmount,e.startingBalance,e.drawChart,e.quickTest,Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},arguments[0]));return delete n.script,n.config=t.config,n.text=getScriptTextWithoutConfig(t),{then:function(e){setTimeout((function(){Object(_simulate__WEBPACK_IMPORTED_MODULE_3__.a)(n).then((function(t){e(t)})).catch((function(t){console.error(t),e({error:t})}))}),100)}}},exportScripts:function(){var e=getLocalStorageScripts();if(!e)return Promise.reject(new Error("There are no scripts to export."));var t=new jszip__WEBPACK_IMPORTED_MODULE_4___default.a;return Object.values(e).forEach((function(e){t.file("".concat(e.name,".js"),e.text)})),t.generateAsync({type:"blob"}).then((function(e){var t=(new Date).toISOString().replace(/:\d\d\.\d\d\dZ$/,"").replace(":","_");Object(file_saver__WEBPACK_IMPORTED_MODULE_5__.saveAs)(e,"Bustabit Scripts ".concat(t,".zip"))}))},exportScript:function(e){var t=getLocalStorageScripts()[e],n=new Blob([t.text],{type:"text/plain;charset=utf-8"});Object(file_saver__WEBPACK_IMPORTED_MODULE_5__.saveAs)(n,"".concat(t.name,".js"))},setClipboardContent:function(e){return navigator.clipboard.writeText(e)}};__webpack_exports__.a=ScriptUtils},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(18),s=n.n(a);function i(e){for(var t=0;t<3;t++){var n=String(s.a.lib.WordArray.random(16));if(!e||-1===e.indexOf(n))return n}}},25:function(e,t,n){"use strict";var a={SCRIPT_SAMPLES:[{name:"Flat Bet",text:'var config = {\n  wager: {\n    value: 100,\n    type: "balance",\n    label: "wager",\n  },\n  payout: {\n    value: 2,\n    type: "multiplier",\n    label: "payout",\n  },\n};\n\n// Try to bet immediately when script starts\nif (engine.gameState === "GAME_STARTING" || engine.gameState === "GAME_ENDED") {\n  makeBet();\n}\n\nengine.on("GAME_STARTING", onGameStarted);\nengine.on("GAME_ENDED", onGameEnded);\n\nfunction onGameStarted() {\n  makeBet();\n}\n\nfunction onGameEnded() {\n  var lastGame = engine.history.first();\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  if (lastGame.cashedAt) {\n    var profit =\n      (config.wager.value * lastGame.cashedAt - config.wager.value) / 100;\n    log("we won", profit.toFixed(2), "bits");\n  } else {\n    log("we lost", Math.round(config.wager.value / 100), "bits");\n  }\n}\n\nfunction makeBet() {\n  engine.bet(config.wager.value, config.payout.value);\n  log(\n    "betting",\n    Math.round(config.wager.value / 100),\n    "on",\n    config.payout.value,\n    "x"\n  );\n}'},{name:"Sniper",text:'var config = {\n  target: { value: "", type: "text", label: "User to follow" },\n  maxBet: { value: 1e8, type: "balance", label: "Max Bet" },\n};\n\nengine.on("BET_PLACED", (bet) => {\n  if (bet.uname.toLowerCase() === config.target.value.toLowerCase()) {\n    if (userInfo.balance < 100) {\n      stop("Your balance is too low to bet.");\n    }\n\n    log(\n      "Spotted",\n      bet.uname,\n      "betting",\n      bet.wager / 100,\n      "bit(s) with a",\n      bet.payout + "x payout."\n    );\n\n    const bettableBalance = Math.floor(userInfo.balance / 100) * 100;\n    const wager = Math.min(bettableBalance, bet.wager, config.maxBet.value);\n\n    if (engine.gameState != "GAME_STARTING") {\n      // do not queue the bet if the current game is no longer accepting bets\n      return;\n    }\n\n    engine.bet(wager, bet.payout); // aim at target\'s payout\n  }\n});\n\nengine.on("CASHED_OUT", (cashOut) => {\n  if (cashOut.uname.toLowerCase() === config.target.value.toLowerCase()) {\n    log("Spotted", cashOut.uname, "cashing out at", cashOut.cashedAt + "x.");\n\n    if (engine.currentlyPlaying()) {\n      engine.cashOut();\n    }\n  }\n});'},{name:"Martingale",text:'var config = {\n  baseBet: { value: 100, type: "balance", label: "base bet" },\n  payout: { value: 2, type: "multiplier" },\n  stop: { value: 1e8, type: "balance", label: "stop if bet >" },\n  loss: {\n    value: "increase",\n    type: "radio",\n    label: "On Loss",\n    options: {\n      base: { type: "noop", label: "Return to base bet" },\n      increase: { value: 2, type: "multiplier", label: "Increase bet by" },\n    },\n  },\n  win: {\n    value: "base",\n    type: "radio",\n    label: "On Win",\n    options: {\n      base: { type: "noop", label: "Return to base bet" },\n      increase: { value: 2, type: "multiplier", label: "Increase bet by" },\n    },\n  },\n};\n\nlog("Script is running..");\n\nvar currentBet = config.baseBet.value;\n\nengine.on("GAME_STARTING", onGameStarted);\nif (engine.gameState === "GAME_STARTING" || engine.gameState === "GAME_ENDED") {\n  engine.bet(roundBit(currentBet), config.payout.value);\n  engine.on("GAME_ENDED", onGameEnded);\n} else {\n  engine.once("GAME_STARTING", () => engine.on("GAME_ENDED", onGameEnded));\n}\n\nfunction onGameStarted() {\n  engine.bet(roundBit(currentBet), config.payout.value);\n}\n\nfunction onGameEnded() {\n  var lastGame = engine.history.first();\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  // we won..\n  if (lastGame.cashedAt) {\n    if (config.win.value === "base") {\n      currentBet = config.baseBet.value;\n    } else {\n      console.assert(config.win.value === "increase");\n      currentBet *= config.win.options.increase.value;\n    }\n    log("We won, so next bet will be", currentBet / 100, "bits");\n  } else {\n    // damn, looks like we lost :(\n    if (config.loss.value === "base") {\n      currentBet = config.baseBet.value;\n    } else {\n      console.assert(config.loss.value === "increase");\n      currentBet *= config.loss.options.increase.value;\n    }\n    log("We lost, so next bet will be", currentBet / 100, "bits");\n  }\n\n  if (currentBet > config.stop.value) {\n    log("Was about to bet", currentBet / 100, "which triggers the stop");\n    engine.removeListener("GAME_STARTING", onGameStarted);\n    engine.removeListener("GAME_ENDED", onGameEnded);\n  }\n}\n\nfunction roundBit(bet) {\n  return Math.round(bet / 100) * 100;\n}'},{name:"Payout Martingale",text:'var config = {\n  bet: {\n    value: 100,\n    type: "balance",\n  },\n  basePayout: {\n    value: 2,\n    type: "multiplier",\n    label: "base payout",\n  },\n  stop: {\n    value: 20,\n    type: "multiplier",\n    label: "stop if payout >",\n  },\n  loss: {\n    value: "increase",\n    type: "radio",\n    label: "On Loss",\n    options: {\n      base: {\n        type: "noop",\n        label: "Return to base payout",\n      },\n      increase: {\n        value: 1,\n        type: "multiplier",\n        label: "Increase payout by +",\n      },\n    },\n  },\n  win: {\n    value: "base",\n    type: "radio",\n    label: "On Win",\n    options: {\n      base: {\n        type: "noop",\n        label: "Return to base payout",\n      },\n      increase: {\n        value: 1,\n        type: "multiplier",\n        label: "Increase payout by +",\n      },\n    },\n  },\n};\n\nlog("Script is running..");\n\nvar currentPayout = config.basePayout.value;\n\nengine.on("GAME_STARTING", onGameStarted);\nif (engine.gameState === "GAME_STARTING" || engine.gameState === "GAME_ENDED") {\n  engine.bet(roundBit(config.bet.value), currentPayout);\n  engine.on("GAME_ENDED", onGameEnded);\n} else {\n  engine.once("GAME_STARTING", () => engine.on("GAME_ENDED", onGameEnded));\n}\n\nfunction onGameStarted() {\n  log(\n    "betting",\n    Math.round(config.bet.value / 100),\n    "at payout of",\n    currentPayout,\n    "x"\n  );\n  engine.bet(config.bet.value, currentPayout);\n}\n\nfunction onGameEnded(info) {\n  var lastGame = engine.history.first();\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  // we won..\n  if (lastGame.cashedAt) {\n    if (config.win.value === "base") {\n      currentPayout = config.basePayout.value;\n      log("won, so resetting payout to", currentPayout);\n    } else {\n      console.assert(config.win.value === "increase");\n      currentPayout += config.win.options.increase.value;\n      log("won, so increasing payout to", currentPayout);\n    }\n  } else {\n    // damn, looks like we lost :(\n    if (config.loss.value === "base") {\n      currentPayout = config.basePayout.value;\n      log("lost, so resetting payout to", currentPayout);\n    } else {\n      console.assert(config.loss.value === "increase");\n      currentPayout += config.loss.options.increase.value;\n      log("lost, so increasing payout", currentPayout);\n    }\n  }\n\n  if (currentPayout > config.stop.value) {\n    log(\n      "Was about to bet with payout",\n      currentPayout,\n      "which triggers the stop"\n    );\n    engine.removeListener("GAME_STARTING", onGameStarted);\n    engine.removeListener("GAME_ENDED", onGameEnded);\n  }\n}'}],NEW_SCRIPT:{id:"",name:"Untitled Script",text:"var config = {\n\n};\n\nlog('Simulation begins here...')",config:void 0}};t.a=a},39:function(e){e.exports=JSON.parse('{"a":"0.2.0"}')},42:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(setImmediate){var _home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45),_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),events__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(43),events__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_6__),crypto_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(18),crypto_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_7__);function hashToBust(e){e=(e=crypto_js__WEBPACK_IMPORTED_MODULE_7___default.a.HmacSHA256(crypto_js__WEBPACK_IMPORTED_MODULE_7___default.a.enc.Hex.parse(e),"0000000000000000004d6ec16dafe9d8370958664c1dc422f452892264c59526").toString(crypto_js__WEBPACK_IMPORTED_MODULE_7___default.a.enc.Hex)).slice(0,13);var t=parseInt(e,16)/Math.pow(2,52);t=99/(1-t);var n=Math.floor(t);return Math.max(1,n/100)}function hashToBusts(e,t){if(isNaN(t)||t<=0)throw new TypeError("amount must be a number larger than zero.");var n=e,a=[];a.unshift({hash:n,bust:hashToBust(String(n))});for(var s=0;s<t;s++){var i=String(crypto_js__WEBPACK_IMPORTED_MODULE_7___default.a.SHA256(String(n))),r=hashToBust(i);a.unshift({hash:i,bust:r}),n=i}return a}var SimulatedBustabitHistory=function(){function e(){Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.a)(this,e),this.data=[]}return Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__.a)(e,[{key:"size",get:function(){return this.data.length}},{key:"length",get:function(){return this.data.length}},{key:"start",get:function(){return 0}},{key:"end",get:function(){return this.data.length-1}},{key:"first",value:function(){return this.size>0?this.data[0]:null}},{key:"last",value:function(){return this.size>0?this.data[this.size-1]:null}},{key:"toArray",value:function(){return this.data}}]),e}(),SimulatedBustabitEngine=function(e){Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(n,e);var t=Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(n);function n(){var e;return Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.a)(this,n),(e=t.call(this))._userInfo={uname:"Anonymous",balance:0,balanceATH:0,balanceATL:0,winStreak:0,loseStreak:0,streakSum:0,sumWagers:0,highBet:0,lowBet:0,bets:0,profit:0,profitATH:0,profitATL:0,profitPerHour:0,duration:0},e.history=new SimulatedBustabitHistory,e.bet=e.bet.bind(Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__.a)(e)),e}return Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__.a)(n,[{key:"getCurrentBet",value:function(){if(this.next)return{wager:this.next.wager,payout:this.next.payout}}},{key:"isBetQueued",value:function(){return!!this.next}},{key:"cancelQueuedBet",value:function(){this.next=void 0}},{key:"bet",value:function(e,t){var n=this;return new Promise((function(a,s){n.next={wager:e,payout:Math.round(100*t)/100,isAuto:!0,resolve:a,reject:s}})).catch((function(e){return console.error(e)}))}}]),n}(events__WEBPACK_IMPORTED_MODULE_6___default.a);function evalScript(){var config=this.config,engine=this.engine,userInfo=this.userInfo,log=this.log,stop=this.stop,gameResultFromHash=this.gameResultFromHash;eval(arguments[0])}function simulate(e){var t=e.text,n=e.config,a=e.startingBalance,s=e.gameHash,i=e.gameAmount,r=e.drawChart,c=e.quickTest;return new Promise((function(e,o){var l="",u=!1,d=void 0,b={log:console.log,warn:console.warn,info:console.info,error:console.error,debug:console.debug};function h(){}c||(console.log=h,console.warn=h,console.info=h,console.error=h,console.debug=h);var p=new SimulatedBustabitEngine,j=p._userInfo,m=c?function(){var e,t=Array.prototype.slice.call(arguments);l+=t.join(" ")+"\n",t.unshift("LOG:"),(e=console).log.apply(e,Object(_home_mstoffels_PrivateProjects_github_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(t))}:function(){};j.balance=a,j.balanceATH=a,j.balanceATL=a;var f={duration:0,startingBalance:a,balance:a,balanceATH:a,balanceATL:a,bets:0,profit:0,lowBet:0,highBet:0,winStreak:0,loseStreak:0,streakSum:0,profitPerHour:0,profitATH:0,profitATL:0,message:"",history:p.history.data,log:l};r&&Object.assign(f,{chartData:[]});var _={config:n,engine:p,userInfo:j,log:m,stop:function(e){d=e,u=!0},gameResultFromHash:function(e){return new Promise((function(t){return t(hashToBust(e))}))},notify:function(e){m(e.toString())}};evalScript.call(_,t);var O=hashToBusts(s,i);function g(e){e++,setImmediate((function(){e<O.length&&!u?function(e){var t=O[e];t.id=e,t.isSimulation=!0,t.wager=0,t.cashedAt=0,p.gameState="GAME_STARTING",p.emit("GAME_STARTING",{gameId:e});var n=p.next;if(p.next=null,n){if(isNaN(n.wager)||n.wager<100||n.wager%100!==0)return n.reject("INVALID_BET"),v();if(isNaN(n.payout))return n.reject("cannot parse JSON"),v();if(j.balance-n.wager<0)return n.reject("BET_TOO_BIG"),j.sumWagers+=n.wager,v();if(n.payout<=1)return n.reject("payout is too low"),v();n.wager>0&&(j.balance-=n.wager,j.bets++,j.sumWagers+=n.wager),n.resolve(null),p.emit("BET_PLACED",{uname:j.uname,wager:n.wager,payout:n.payout})}p.emit("GAME_STARTED",null),p.gameState="GAME_IN_PROGRESS",t.wager=n?n.wager:0,t.cashedAt=n&&n.wager>0&&n.payout<=t.bust?n.payout:0,0!==t.wager&&(j.balance+=t.cashedAt*t.wager,j.balance<j.balanceATL&&(j.balanceATL=j.balance),j.balance>j.balanceATH&&(j.balanceATH=j.balance),j.profit=j.balance-a,(!j.lowBet||t.wager<j.lowBet)&&(j.lowBet=t.wager),(!j.highBet||t.wager>j.highBet)&&(j.highBet=t.wager),j.profit<j.profitATL&&(j.profitATL=j.profit),j.profit>j.profitATH&&(j.profitATH=j.profit));t.cashedAt>0?(j.sinceWin=0,j.sinceLose++,j.sinceLose>j.winStreak&&(j.winStreak=j.sinceLose),j.streakSum<j.sumWagers&&(j.streakSum=j.sumWagers),j.sumWagers=0,p.emit("CASHED_OUT",{uname:j.uname,cashedAt:t.cashedAt,wager:t.wager})):0!==t.wager&&(j.sinceLose=0,j.sinceWin++,j.sinceWin>j.loseStreak&&(j.loseStreak=j.sinceWin));p.history.data.unshift(t),r&&f.chartData.unshift(Object.assign({payout:n?n.payout:0,balance:j.balance,profit:t.cashedAt>0?(t.cashedAt-1)*t.wager:-t.wager},t));j.duration+=Math.log(t.bust)/6e-5,p.gameState="GAME_ENDED",p.emit("GAME_ENDED",{hash:t.hash,bust:t.bust}),g(e)}(e):v()}))}function v(){c&&(console.log=b.log,console.warn=b.warn,console.info=b.info,console.error=b.error,console.debug=b.debug),u&&d&&m(d),j.streakSum<j.sumWagers&&(j.streakSum=j.sumWagers),f.duration=j.duration,f.startingBalance=a,f.balance=j.balance,f.bets=j.bets,f.profit=j.profit,f.lowBet=j.lowBet,f.highBet=j.highBet,f.streakSum=j.streakSum,f.loseStreak=j.loseStreak,f.winStreak=j.winStreak,f.profitATH=j.profitATH,f.profitATL=j.profitATL,f.balanceATH=j.balanceATH,f.balanceATL=j.balanceATL,f.profitPerHour=f.profit/(f.duration/36e5),f.message="".concat(j.bets," Games played. ").concat(f.profit>0?"Won":"Lost"," ").concat(f.profit/100," bits. ").concat(f.message||""),f.history=p.history.results,f.log=l,e(f)}g(null)}))}__webpack_exports__.a=simulate}).call(this,__webpack_require__(35).setImmediate)},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(17),i=n.n(s),r=(n(50),n(1)),c=n(7),o=(n(51),n(52),n(11)),l=n(15),u=n(28),d=n(3),b=n(4),h=n(6),p=n(5),j=n(0),m=["config","onChange","className"],f=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleConfigFieldChange=a.handleConfigFieldChange.bind(Object(o.a)(a)),a}return Object(b.a)(n,[{key:"handleConfigFieldChange",value:function(e,t){for(var n=e.split("."),a=this.props.config,s=0;s<n.length;s++)a=a[n[s]];a.value=t,this.props.onChange(this.props.config)}},{key:"render",value:function(){var e=this,t=this.props,n=t.config,a=(t.onChange,t.className),s=void 0===a?"":a,i=Object(c.a)(t,m);return Object(j.jsx)("div",Object(r.a)(Object(r.a)({},i),{},{className:"BustabitScript Config ".concat(s),children:n?Object.keys(n).map((function(t){var a=n[t];return(0,_[a.type])(Object(r.a)(Object(r.a)({},a),{},{name:t,onChange:e.handleConfigFieldChange}))})):null}))}}]),n}(a.Component),_=Object.freeze({balance:function(e){var t=e.name,n=e.label,a=e.value,s=e.optional,i=e.onChange,r="config.".concat(t);return Object(j.jsxs)("div",{className:"field is-horizontal",children:[Object(j.jsx)("div",{className:"field-label is-normal",children:Object(j.jsx)("label",{htmlFor:r,className:"label",children:n||t})}),Object(j.jsx)("div",{className:"field-body",children:Object(j.jsx)("div",{className:"field",children:Object(j.jsxs)("div",{className:"control has-icons-right",children:[Object(j.jsx)("input",{type:"number",className:"input is-normal",id:r,name:t,value:parseFloat(a)/100,required:!s,step:"1",onChange:function(e){i(t,100*parseFloat(e.target.value))}}),Object(j.jsx)("span",{className:"icon is-small is-right",children:"bits"})]})})})]},r)},checkbox:function(e){var t=e.name,n=e.label,a=e.value,s=e.onChange,i="config.".concat(t);return Object(j.jsxs)("div",{className:"field is-horizontal",children:[Object(j.jsx)("div",{className:"field-label is-normal",children:Object(j.jsx)("label",{htmlFor:i,className:"label",children:n||t})}),Object(j.jsx)("div",{className:"field-body",children:Object(j.jsx)("div",{className:"field",children:Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("input",{type:"checkbox",className:"checkbox",id:i,name:t,checked:!!a,onChange:function(e){s(t,!!e.target.checked)}})})})})]},i)},multiplier:function(e){var t=e.name,n=e.label,a=e.value,s=e.optional,i=e.onChange,r="config.".concat(t);return Object(j.jsxs)("div",{className:"field is-horizontal",children:[Object(j.jsx)("div",{className:"field-label is-normal",children:Object(j.jsx)("label",{htmlFor:r,className:"label",children:n||t})}),Object(j.jsx)("div",{className:"field-body",children:Object(j.jsx)("div",{className:"field",children:Object(j.jsxs)("div",{className:"control has-icons-right",children:[Object(j.jsx)("input",{type:"number",className:"input",id:r,name:t,value:parseFloat(a),required:!s,step:"0.01",onChange:function(e){i(t,parseFloat(e.target.value))}}),Object(j.jsx)("span",{className:"icon is-small is-right",children:Object(j.jsx)("i",{className:"fas fa-times"})})]})})})]},r)},noop:function(e){var t=e.name,n=e.label,a=(e.value,"config.".concat(t));return Object(j.jsx)("div",{className:"field",children:Object(j.jsx)("label",{className:"label",htmlFor:a,children:n})},a)},radio:function(e){var t=e.name,n=e.label,a=e.value,s=e.options,i=e.onChange;function c(e,t){i(e,t)}var o="config.".concat(t);return Object(j.jsx)("div",{className:"field",children:Object(j.jsxs)("fieldset",{style:{width:"100%",padding:"10px 10px"},children:[Object(j.jsx)("legend",{className:"label has-text-centered is-uppercase",children:n||t}),Object.keys(s||{}).map((function(e){var n=s[e];return Object(j.jsxs)("div",{className:"field",children:[Object(j.jsx)("input",{type:"radio",name:t,id:"config.".concat(t,".options.").concat(e),value:e,checked:a===e,onChange:function(e){i(t,e.target.value)}}),"\xa0",Object(j.jsx)("div",{className:"is-inline-block",children:_[n.type](Object(r.a)(Object(r.a)({},n),{},{onChange:c,name:"".concat(t,".options.").concat(e)}))})]},"option-".concat(e))}))]})},o)},text:function(e){var t=e.name,n=e.label,a=e.value,s=e.optional,i=e.onChange,r="config.".concat(t);return Object(j.jsxs)("div",{className:"field is-horizontal",children:[Object(j.jsx)("div",{className:"field-label is-normal",children:Object(j.jsx)("label",{htmlFor:r,className:"label",children:n||t})}),Object(j.jsx)("div",{className:"field-body",children:Object(j.jsx)("div",{className:"field",children:Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("input",{type:"text",className:"input",id:r,name:t,value:a,required:!s,onChange:function(e){i(t,e.target.value)}})})})})]},r)},number:function(e){var t=e.name,n=e.label,a=e.value,s=e.optional,i=e.onChange,r="config.".concat(t);return Object(j.jsxs)("div",{className:"field is-horizontal",children:[Object(j.jsx)("div",{className:"field-label is-normal",children:Object(j.jsx)("label",{htmlFor:r,className:"label",children:n||t})}),Object(j.jsx)("div",{className:"field-body",children:Object(j.jsx)("div",{className:"field",children:Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("input",{type:"number",className:"input",id:r,name:t,value:parseFloat(a),required:!s,step:"1",onChange:function(e){i(t,parseFloat(e.target.value))}})})})})]},r)}});var O=f,g=n(9),v=(n(54),["viewBoxWidth","viewBoxHeight","data","xAccessor","yAccessor","crosshairEnabled","crosshairClassName","className"]),x=["data"],E=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={tooltipData:void 0},a.handleTooltipChange=a.handleTooltipChange.bind(Object(o.a)(a)),a.shouldUpdateLineChart=a.shouldUpdateLineChart.bind(Object(o.a)(a)),a.updateLineChart=a.updateLineChart.bind(Object(o.a)(a)),a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.container=i.a.findDOMNode(this),this.updateLineChart()}},{key:"componentDidUpdate",value:function(e,t){this.shouldUpdateLineChart(e)&&this.updateLineChart()}},{key:"render",value:function(){var e=this.props,t=(e.viewBoxWidth,e.viewBoxHeight,e.data,e.xAccessor,e.yAccessor,e.crosshairEnabled,e.crosshairClassName,e.className),n=void 0===t?"":t,a=Object(c.a)(e,v);return Object(j.jsxs)("div",Object(r.a)(Object(r.a)({},a),{},{className:"LineChart ".concat(n),children:[Object(j.jsx)("svg",{preserveAspectRatio:"xMinYMin meet"}),Object(j.jsx)("div",{className:"tooltip-container",style:{visibility:this.state.tooltipData?void 0:"hidden"},children:Object(j.jsx)(y,{className:"tooltip",data:this.state.tooltipData})})]}))}},{key:"handleTooltipChange",value:function(e){var t=e.data;this.setState({tooltipData:t})}},{key:"shouldUpdateLineChart",value:function(e){var t=this;return["viewBoxWidth","viewBoxHeight","data","xAccessor","yAccessor"].some((function(n){var a=e[n],s=t.props[n];return a!==s||Array.isArray(a)&&a.length!==s.length}))}},{key:"updateLineChart",value:function(){!function(e){var t=e.container,n=e.viewBoxWidth,a=e.viewBoxHeight,s=e.data,i=e.xAccessor,r=e.yAccessor,c=e.onTooltipChange,o=e.crosshairEnabled,l=e.crosshairClassName;if(!t)throw new TypeError("container should be an HTMLElement");if(isNaN(n)||isNaN(a))throw new TypeError("viewBoxWidth and viewBoxHeight should be numbers");if(!i||!r||"function"!==typeof i||"function"!==typeof r)throw new TypeError("xAccessor and yAccessor should be functions");if(!s||!Array.isArray(s))throw new TypeError("data should be an array");if(c&&"function"!==typeof c)throw new TypeError("onTooltipChange should be a function");if(o&&l&&"string"!==typeof l&&"function"!==typeof l)throw new TypeError("crosshairClassName should be a string or a function");var u=(t=g.k(t)).select("svg");if(!u)throw new TypeError("container should have a child <svg></svg>");var d=t.select(".tooltip");u.attr("viewBox","0 0 ".concat(n," ").concat(a));var b={top:20,right:20,bottom:110,left:40},h={top:430,right:20,bottom:30,left:40},p=+n-b.left-b.right,j=+a-b.top-b.bottom,m=+a-h.top-h.bottom;u.selectAll("*").remove();var f,_=g.j().range([0,p]),O=g.j().range([0,p]),v=g.j().range([j,0]),x=g.j().range([m,0]),E=g.a(_),y=g.a(O),N=g.b(v).tickFormat((function(e){return Math.round(e)/100})),S=function(e){return _(i(e))},C=function(e){return v(r(e))},w=g.h().x(S).y(C),A=function(e){return O(i(e))},k=function(e){return x(r(e))},T=g.h().x(A).y(k),D=g.d().extent([[0,0],[p,m]]).on("brush end",H),P=g.l().scaleExtent([1,1/0]).translateExtent([[0,0],[p,j]]).extent([[0,0],[p,j]]).on("zoom",K);u.append("defs").append("svg:clipPath").attr("id","clip").append("svg:rect").attr("width",p).attr("height",j).attr("x",0).attr("y",0);var B,M=u.append("g").attr("class","data-lines").attr("transform","translate("+b.left+","+b.top+")").attr("clip-path","url(#clip)");o&&((B=u.append("g")).attr("class","crosshair").attr("transform","translate("+b.left+","+b.top+")").attr("clip-path","url(#clip)"),B.append("line").attr("class","crosshair-line crosshair-line-x"),B.append("line").attr("class","crosshair-line crosshair-line-y"));var L=u.append("g").attr("class","axes").attr("transform","translate("+b.left+","+b.top+")"),I=u.append("g").attr("class","context").attr("transform","translate("+h.left+","+h.top+")"),R=u.append("rect").attr("class","zoom").attr("width",p).attr("height",j).attr("transform","translate("+b.left+","+b.top+")");function W(e){_.domain(g.g(e,i)),v.domain(g.g(e,r)),O.domain(_.domain()),x.domain(v.domain()),L.append("g").attr("class","axis axis-x").attr("transform","translate(0,"+j+")").call(E),L.append("g").attr("class","axis axis-y").call(N),M.append("path").datum(e).attr("class","data-line").attr("d",w),M.selectAll(".data-point").data(e).enter().append("circle").attr("class",(function(e){return"data-point "+(0===e.profit?"is-warning":e.profit>0?"is-success":"is-danger")})).attr("cx",S).attr("cy",C).attr("r",0),I.append("path").datum(e).attr("class","data-line").attr("d",T),I.append("g").attr("class","axis axis-x").attr("transform","translate(0,"+m+")").call(y),I.append("g").attr("class","brush").call(D).call(D.move,_.range()),R.call(P),R.on("mousemove",n).on("mouseover",(function(){d&&d.style("opacity",1),B&&B.style("opacity",1)})).on("mouseout",(function(){d&&d.style("opacity",0),B&&B.style("opacity",0),M.selectAll(".data-point").classed("hover",!1)}));var t=g.c((function(e,t){return t-i(e)})).left;function n(){var n,a=g.i(this)[0],s=_.invert(a),r=t(e,s),c=e[r-1],o=e[r];n=o?c&&Math.abs(s-i(o))>Math.abs(s-i(c))?c:o:c,f=n,M.selectAll(".data-point").classed("hover",(function(e){return i(e)===i(f)})),U(f),G(n)}}function G(e){if(d&&u&&t&&n&&a){var s,i,r=g.i(u.node()),o=g.i(t.node()),l={left:25,top:25},b=d.node().getBoundingClientRect();s=r[0]>n-b.width?o[0]-b.width-l.left:o[0]+l.left,i=r[1]>a-b.height?o[1]-b.height-l.top:o[1]+l.top,d.style("top",i+"px").style("left",s+"px"),c&&c({data:e})}}function U(e){var t=_.domain(),n=v.domain();B.select(".crosshair-line-x").transition().ease(g.e).attr("x1",S(e)).attr("y1",v(n[0])).attr("x2",S(e)).attr("y2",v(n[1])).duration(100),B.select(".crosshair-line-y").transition().ease(g.e).attr("x1",_(t[0])).attr("y1",C(e)).attr("x2",_(t[1])).attr("y2",C(e)).duration(100)}function H(){if(!g.f.sourceEvent||"zoom"!==g.f.sourceEvent.type){var e=g.f.selection||O.range();_.domain(e.map(O.invert,O)),M.select(".data-line").attr("d",w),M.selectAll(".data-point").attr("cx",S).attr("cy",C),f&&U(f),L.select(".axis-x").call(E),u.select(".zoom").call(P.transform,g.m.scale(p/(e[1]-e[0])).translate(-e[0],0))}}function K(){if(!g.f.sourceEvent||"brush"!==g.f.sourceEvent.type){var e=g.f.transform;_.domain(e.rescaleX(O).domain()),M.select(".data-line").attr("d",w),M.selectAll(".data-point").attr("cx",S).attr("cy",C),f&&U(f),L.select(".axis-x").call(E),I.select(".brush").call(D.move,_.range().map(e.invertX,e))}}W(s)}({container:this.container,viewBoxWidth:this.props.viewBoxWidth,viewBoxHeight:this.props.viewBoxHeight,onTooltipChange:this.handleTooltipChange,data:this.props.data,xAccessor:this.props.xAccessor,yAccessor:this.props.yAccessor,crosshairEnabled:this.props.crosshairEnabled,crosshairClassName:this.props.crosshairClassName})}}]),n}(a.Component),y=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=Object(c.a)(e,x),a=t||{},s=a.id,i=a.hash,o=a.bust,l=a.wager,u=a.payout,d=a.cashedAt,b=a.profit,h=a.balance;return Object(j.jsx)("div",Object(r.a)(Object(r.a)({},n),{},{children:t&&Object(j.jsx)("table",{className:"table is-transparent",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Game ID"}),Object(j.jsx)("td",{children:s})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Hash"}),Object(j.jsx)("td",{children:Object(j.jsx)("input",{className:"input",type:"text",value:i,readOnly:!0})})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Bust"}),Object(j.jsx)("td",{children:"".concat(o,"x")})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Bet"}),Object(j.jsx)("td",{children:0===l?"Didn't play":"".concat(u,"x ").concat(Math.round(l)/100," bits")})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Cashed At"}),Object(j.jsx)("td",{children:d>0?"".concat(d,"x"):"-"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Profit"}),Object(j.jsxs)("td",{className:0===b?"has-text-warning":b>0?"has-text-success":"has-text-danger",children:[Math.round(b)/100," bits"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Balance"}),Object(j.jsxs)("td",{children:[Math.round(h)/100," bits"]})]})]})})}))}}]),n}(a.Component);var N=E,S=(n(55),["children","className","style"]),C=["children","className","iconClassName"],w=["children","iconClassName","className","onClick"],A=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={isOpen:!1},a.handleWindowClick=a.handleWindowClick.bind(Object(o.a)(a)),a.handleButtonClick=a.handleButtonClick.bind(Object(o.a)(a)),a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleWindowClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleWindowClick)}},{key:"handleWindowClick",value:function(){this.setState({isOpen:!1})}},{key:"handleButtonClick",value:function(e){e.stopPropagation(),this.setState((function(e){return{isOpen:!e.isOpen}}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=void 0===n?"":n,s=(e.style,Object(c.a)(e,S));return Object(j.jsxs)("div",Object(r.a)(Object(r.a)({},s),{},{className:this.classNames("OptionsMenu is-relative",a,!t&&"is-hidden"),children:[Object(j.jsx)(k,{iconClassName:"fas fa-ellipsis-v",onClick:this.handleButtonClick}),Object(j.jsx)("div",{style:{position:"absolute",zIndex:10},className:this.classNames("box p-1",!this.state.isOpen&&"is-hidden"),children:t})]}))}},{key:"classNames",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return!!e})).map((function(e){return e.toString()})).join(" ").replace(/\s+/g," ").trim()}}]),n}(a.Component);function k(e){var t=e.children,n=e.className,a=void 0===n?"":n,s=e.iconClassName,i=void 0===s?"fas fa-ellipsis-v":s,o=Object(c.a)(e,C);return Object(j.jsxs)("button",Object(r.a)(Object(r.a)({},o),{},{className:"button is-circular ".concat(a),children:[Object(j.jsx)("span",{className:"icon",children:Object(j.jsx)("i",{className:i})}),t]}))}function T(e){var t=e.children,n=e.iconClassName,a=void 0===n?"":n,s=e.className,i=void 0===s?"":s,o=e.onClick,l=Object(c.a)(e,w);return Object(j.jsx)("div",Object(r.a)(Object(r.a)({},l),{},{className:"p-0 ".concat(i).trim(),children:Object(j.jsxs)("button",{className:"button is-fullwidth is-justify-content-left",onClick:o,children:[Object(j.jsx)("span",{className:"icon",children:Object(j.jsx)("i",{className:a})}),Object(j.jsx)("span",{children:t})]})}))}n(56);var D=n(39),P=["scripts","className"],B=["className"],M=["className","scripts"],L=["className","scripts"],I=["className"],R=["className"],W=["className"],G=["className"],U=["className"],H=["className","onClick"],K=["children","label","icon","className"],q=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"viewState",value:function(){return this.props.scripts.editing?"edit":this.props.scripts.creating?"new":this.props.scripts.deleting?"delete":this.props.scripts.selected?"show":"list"}},{key:"componentDidMount",value:function(){this.props.scripts.load()}},{key:"render",value:function(){var e=this.viewState(),t=this.props,n=t.scripts,a=t.className,s=void 0===a?"":a,i=Object(c.a)(t,P);return Object(j.jsxs)("div",Object(r.a)(Object(r.a)({},i),{},{className:"BustabitScript-App ".concat(s).trim(),children:[("list"===e||"delete"===e)&&Object(j.jsx)(z,{scripts:n}),"edit"===e&&Object(j.jsx)(ne,{script:n.editing,error:n.updateError,onCancel:n.onCancel,onRestore:n.onRestore,onSave:n.onSave}),"new"===e&&Object(j.jsx)(ae,{script:n.creating,error:n.createError,onCancel:n.onCancel,onSave:n.onSave}),"show"===e&&Object(j.jsx)(J,{scripts:n})]}))}}]),n}(a.Component),F=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,a=Object(c.a)(e,B);return Object(j.jsxs)("div",Object(r.a)(Object(r.a)({},a),{},{className:"".concat(n),children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"bustabit-logo"}),Object(j.jsx)("span",{className:"bustabit-title",children:"Bustabit"})]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"script-simulator-title",children:"Script Simulator"}),Object(j.jsx)("span",{className:"ml-1"}),Object(j.jsxs)("span",{className:"script-simulator-version",children:["v",D.a]})]})]}))}}]),n}(a.Component),z=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,a=e.scripts,s=Object(c.a)(e,M),i=a.deleting?a.deleting.id:void 0;return Object(j.jsx)("div",Object(r.a)(Object(r.a)({},s),{},{className:"BustabitScript-List is-inline-block ".concat(n).trim(),children:Object(j.jsx)("div",{className:"box has-text-left",children:Object(j.jsxs)("table",{className:"table is-transparent",children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:Object(j.jsxs)("th",{colSpan:"4",children:[Object(j.jsx)("h3",{className:"subtitle is-4 is-inline-block m-0",children:"My Scripts"}),Object(j.jsxs)("div",{className:"is-pulled-right",children:[Object(j.jsxs)(A,{className:"is-inline-block",children:[Object(j.jsx)(T,{iconClassName:"fas fa-file-export",onClick:a.exportScripts,children:"Export All Scripts"}),Object(j.jsx)(T,{iconClassName:"fas fa-undo",onClick:a.restoreSamples,children:"Restore Sample Scripts"})]}),Object(j.jsx)(Z,{className:"is-inline-block ml-1",onClick:function(){return a.onNew()}})]})]})})}),Object(j.jsx)("tbody",{children:a.items.entrySeq().map((function(e){var t=Object(u.a)(e,2)[1],n=t.id;return n===i?Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:t.name}),Object(j.jsx)("td",{colSpan:"3",style:{maxWidth:"9rem"},children:Object(j.jsx)(Y,{script:a.deleting,onCancel:a.onCancel,onDeleted:a.onDeleted},n)})]},n):Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:t.name}),Object(j.jsx)("td",{children:Object(j.jsx)(Q,{onClick:function(){return a.onSelect(n)}})}),Object(j.jsx)("td",{children:Object(j.jsx)($,{onClick:function(){return a.onEdit(n)}})}),Object(j.jsx)("td",{children:Object(j.jsx)(X,{onClick:function(){return a.onDelete(n)}})})]},n)}))})]})})}))}}]),n}(a.Component);function V(e){var t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),a=Math.floor(e/36e5%24),s=Math.floor(e/864e5);return(s>0?s+"d ":"")+(a=a<10?"0"+a:a)+"h "+(n=n<10?"0"+n:n)+"m "+(t=t<10?"0"+t:t)+"s"}var J=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={script:e.scripts.selected,startingBalance:1e6,gameHash:"7edbd07968e771f205a4e2b67701c2f6993437db0c557160ba79ee70ea6d10c6",gameAmount:1e3,drawChart:!0,quickTest:!0},a}return Object(b.a)(n,[{key:"componentDidUpdate",value:function(e){if(this.props.scripts.results!==e.scripts.results){var t=document.getElementById("results");if(t){var n=t.getBoundingClientRect().top+window.scrollY;window.scrollTo({behavior:"smooth",top:n})}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=void 0===n?"":n,s=t.scripts,i=Object(c.a)(t,L);return Object(j.jsxs)("div",Object(r.a)(Object(r.a)({},i),{},{className:"BustabitScript-Show ".concat(a),children:[this.state.script&&Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"box is-inline-block has-text-left",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(ee,{className:"".concat(s.isLoading?"is-loading":""),onClick:s.onDeselect}),Object(j.jsxs)("div",{className:"is-pulled-right pr-4",children:[Object(j.jsxs)(A,{className:"is-inline-block",children:[Object(j.jsx)(T,{iconClassName:"fas fa-file-export",onClick:function(){return s.exportScript(e.state.script.id)},children:"Export Script"}),Object(j.jsx)(T,{iconClassName:"fas fa-copy",onClick:function(){return s.copyScript(e.state.script.id)},children:"Copy Script"})]}),Object(j.jsx)($,{className:"is-inline-block ml-1",onClick:function(){return s.onEdit(e.state.script.id)}})]})]}),Object(j.jsx)("hr",{className:"hr"}),Object(j.jsx)(O,{config:this.state.script.config,onChange:function(t){e.setState((function(e){var n=e.script;return n.config=t,{script:n}}))}}),Object(j.jsx)("hr",{className:"hr"}),Object(j.jsx)(se,{label:"Starting Balance",icon:"fas fa-coins",children:Object(j.jsx)("input",{className:"input is-normal",type:"number",required:!0,min:"1",step:"1",name:"startingBalance",value:this.state.startingBalance/100,onChange:function(t){var n=Object(l.a)({},t.target.name,100*parseFloat(t.target.value));e.setState(n)}})}),Object(j.jsx)(se,{label:"Hash",icon:"fas fa-key",children:Object(j.jsx)("input",{className:"input is-normal",type:"text",required:!0,name:"gameHash",value:this.state.gameHash,onChange:function(t){e.setState(Object(l.a)({},t.target.name,String(t.target.value)))}})}),Object(j.jsx)(se,{label:"Games",icon:"fas fa-hashtag",children:Object(j.jsx)("input",{className:"input is-normal",type:"number",required:!0,min:"1",step:"1",name:"gameAmount",value:this.state.gameAmount,onChange:function(t){e.setState(Object(l.a)({},t.target.name,parseInt(t.target.value)))}})}),Object(j.jsx)("hr",{className:"hr"}),Object(j.jsxs)("div",{className:"field is-grouped",children:[Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("button",{className:"button is-success ".concat(s.isLoading?"is-loading":""),disabled:!(this.state.script&&this.state.gameHash&&this.state.gameAmount&&this.state.startingBalance),onClick:function(){var t={script:e.state.script,gameHash:e.state.gameHash,gameAmount:e.state.gameAmount,startingBalance:e.state.startingBalance,drawChart:e.state.drawChart,quickTest:e.state.quickTest};s.onRun(t)},children:"Run Script"})}),Object(j.jsxs)("div",{className:"control",children:[Object(j.jsx)("p",{children:Object(j.jsxs)("label",{className:"checkbox",children:[Object(j.jsx)("input",{className:"checkbox",type:"checkbox",name:"drawChart",checked:this.state.drawChart,onChange:function(t){e.setState(Object(l.a)({},t.target.name,Boolean(t.target.checked)))}}),"\xa0 Enable Chart"]})}),Object(j.jsx)("p",{children:Object(j.jsxs)("label",{className:"checkbox",children:[Object(j.jsx)("input",{className:"checkbox",type:"checkbox",name:"quickTest",checked:this.state.quickTest,onChange:function(t){e.setState(Object(l.a)({},t.target.name,Boolean(t.target.checked)))}}),"\xa0 Enable Log"]})})]})]}),Object(j.jsx)("div",{children:Object(j.jsx)("textarea",{className:"textarea",value:s.results?s.results.log:void 0,readOnly:!0,style:{width:"100%",height:"200px",resize:"both"},placeholder:"Script logs will appear here"})})]})},this.state.script.id),s.selected&&s.results&&Object(j.jsxs)("section",{className:"section",children:[Object(j.jsx)("div",{id:"results"}),s.results.error&&Object(j.jsxs)("div",{className:"notification is-danger",children:[Object(j.jsx)("h3",{className:"is-3",children:"Error"}),Object(j.jsx)("pre",{className:"notification is-danger has-text-left",children:String(s.results.error)})]}),!s.results.error&&Object(j.jsxs)("div",{className:"columns",children:[Object(j.jsx)("div",{className:"column is-one-fifth",children:Object(j.jsx)("table",{className:"table box is-inline-block",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Games Played"}),Object(j.jsxs)("td",{children:[s.results.bets," games"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Duration"}),Object(j.jsx)("td",{children:V(s.results.duration)})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Start Balance"}),Object(j.jsxs)("td",{children:[s.results.startingBalance/100," bits"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Smallest Bet"}),Object(j.jsxs)("td",{children:[s.results.lowBet/100," bits"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Largest Bet"}),Object(j.jsxs)("td",{children:[s.results.highBet/100," bits"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Win Streak"}),Object(j.jsxs)("td",{children:[s.results.winStreak," games"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Lose Streak"}),Object(j.jsxs)("td",{children:[s.results.loseStreak," games"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Streak Cost"}),Object(j.jsxs)("td",{children:[s.results.streakSum/100," bits"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Profit ATL"}),Object(j.jsxs)("td",{children:[(s.results.profitATL/100).toFixed(2)," bits"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Profit ATH"}),Object(j.jsxs)("td",{children:[(s.results.profitATH/100).toFixed(2)," bits"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Balance ATL"}),Object(j.jsxs)("td",{children:[(s.results.balanceATL/100).toFixed(2)," bits"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Balance ATH"}),Object(j.jsxs)("td",{children:[(s.results.balanceATH/100).toFixed(2)," bits"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"End Profit"}),Object(j.jsxs)("td",{className:"".concat(s.results.profit>=0?"has-text-success":"has-text-danger"),children:[(Math.round(s.results.profit)/100).toFixed(2)," bits"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"End Balance"}),Object(j.jsxs)("td",{children:[s.results.balance/100," bits"]})]}),s.results.profit>0&&Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Profit per hour"}),Object(j.jsxs)("td",{children:[Math.round(s.results.profitPerHour)/100," bits"]})]}),Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:"2",children:s.results.message||""})})]})})}),s.results.chartData&&Object(j.jsx)("div",{className:"column",children:Object(j.jsx)("div",{className:"has-text-centered box",children:Object(j.jsx)(N,{viewBoxWidth:960,viewBoxHeight:500,data:s.results.chartData,xAccessor:function(e){return e.id},yAccessor:function(e){return e.balance},crosshairEnabled:!0,crosshairClassName:function(e){return e.profit>0?"is-success":"is-danger"}})})})]}),Object(j.jsx)(te,{})]})]}))}}]),n}(a.Component),Y=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{children:this.props.script?Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"Are you sure you want to delete this script?"}),Object(j.jsxs)("div",{className:"buttons is-pulled-right",children:[Object(j.jsx)("button",{className:"button is-danger",onClick:function(){var t=e.props.script.id;e.props.onDeleted(t,!0)},children:"Yes"}),Object(j.jsx)("button",{className:"button",onClick:this.props.onCancel,children:"No"})]})]}):null})}}]),n}(a.Component),$=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,a=Object(c.a)(e,I);return Object(j.jsx)("div",{className:"BustabitScript EditButton control ".concat(n),children:Object(j.jsx)("button",Object(r.a)(Object(r.a)({},a),{},{className:"button is-info ".concat(n),children:Object(j.jsx)("span",{className:"icon is-normal",width:"2em",height:"2em",children:Object(j.jsx)("i",{className:"fas fa-eye"})})}))})}}]),n}(a.Component),Q=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,a=Object(c.a)(e,R);return Object(j.jsx)("div",{className:"BustabitScript SelectButton control",children:Object(j.jsx)("button",Object(r.a)(Object(r.a)({},a),{},{className:"button ".concat(n),children:Object(j.jsx)("span",{className:"icon is-normal",width:"2em",height:"2em",children:Object(j.jsx)("i",{className:"fas fa-play"})})}))})}}]),n}(a.Component),X=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,a=Object(c.a)(e,W);return Object(j.jsx)("div",{className:"BustabitScript DeleteButton control",children:Object(j.jsx)("button",Object(r.a)(Object(r.a)({},a),{},{className:"button is-light ".concat(n),children:Object(j.jsx)("span",{className:"icon is-normal",width:"2em",height:"2em",children:Object(j.jsx)("i",{className:"fas fa-trash-alt"})})}))})}}]),n}(a.Component),Z=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,a=Object(c.a)(e,G);return Object(j.jsx)("div",{className:"BustabitScript NewButton control ".concat(n).trim(),children:Object(j.jsxs)("button",Object(r.a)(Object(r.a)({},a),{},{className:"button is-success",children:[Object(j.jsx)("span",{className:"icon is-normal",width:"2em",height:"2em",children:Object(j.jsx)("i",{className:"fas fa-plus"})}),Object(j.jsx)("span",{children:"New"})]}))})}}]),n}(a.Component),ee=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,a=Object(c.a)(e,U);return Object(j.jsxs)("a",Object(r.a)(Object(r.a)({},a),{},{className:"button is-normal ".concat(n),children:[Object(j.jsx)("span",{className:"icon is-medium",children:Object(j.jsx)("i",{className:"fas fa-arrow-left"})}),Object(j.jsx)("span",{children:"Go Back"})]}))}}]),n}(a.Component),te=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props||{},t=e.className,n=void 0===t?"":t,a=e.onClick,s=Object(c.a)(e,H);return Object(j.jsxs)("button",Object(r.a)(Object(r.a)({},s),{},{className:"button is-normal ".concat(n),onClick:function(){window.scroll({top:0,behavior:"smooth"}),a&&a()},children:[Object(j.jsx)("span",{className:"icon is-medium",children:Object(j.jsx)("i",{className:"fas fa-arrow-up"})}),Object(j.jsx)("span",{children:"Back to Top"})]}))}}]),n}(a.Component),ne=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).close=a.close.bind(Object(o.a)(a)),a.restore=a.restore.bind(Object(o.a)(a)),a}return Object(b.a)(n,[{key:"close",value:function(e){e&&e.preventDefault(),this.props.onCancel()}},{key:"restore",value:function(e){e&&e.preventDefault(),this.props.onRestore(this.props.script.id)}},{key:"render",value:function(){var e,t,n=this;return Object(j.jsxs)("div",{className:"BustabitScript-Edit modal"+(this.props.script?" is-active":""),children:[Object(j.jsx)("div",{className:"modal-background",onClick:this.close}),Object(j.jsx)("div",{className:"modal-card",style:{width:"90%"},children:Object(j.jsxs)("form",{onSubmit:function(e){e&&e.preventDefault();var t=String(e.target.id.value||"").trim(),a=String(e.target.name.value||"").trim(),s=String(e.target.text.value||"").trim(),i=Object(r.a)(Object(r.a)({},n.props.script),{},{id:t,name:a,text:s});n.props.onSave(i)},children:[Object(j.jsxs)("header",{className:"modal-card-head",children:[Object(j.jsx)("p",{className:"modal-card-title",children:"Edit Script"}),Object(j.jsx)("button",{className:"delete is-large",onClick:this.close})]}),Object(j.jsxs)("section",{className:"modal-card-body",children:[this.props.error&&Object(j.jsxs)("div",{className:"notification is-warning",children:[Object(j.jsx)("p",{children:Object(j.jsx)("strong",{children:"Error"})}),Object(j.jsx)("pre",{className:"notification is-warning has-text-left",children:String(this.props.error)})]}),Object(j.jsx)("input",{className:"input",type:"hidden",name:"id",defaultValue:this.props.script?this.props.script.id:""}),Object(j.jsx)("input",{className:"input is-normal mb-3",required:!0,type:"text",name:"name",readOnly:null===(e=this.props.script)||void 0===e?void 0:e.isSample,defaultValue:this.props.script?this.props.script.name:""}),Object(j.jsx)("textarea",{className:"textarea is-normal",required:!0,rows:"20",name:"text",defaultValue:this.props.script?this.props.script.text:""})]}),Object(j.jsxs)("footer",{className:"modal-card-foot is-justify-content-flex-end",children:[(null===(t=this.props.script)||void 0===t?void 0:t.isSample)&&Object(j.jsxs)("button",{className:"button is-warning has-text-white",onClick:this.restore,children:[Object(j.jsx)("span",{className:"icon is-medium",children:Object(j.jsx)("i",{className:"fas fa-undo"})}),Object(j.jsx)("span",{children:"Restore"})]}),Object(j.jsx)("button",{className:"button is-success",type:"submit",children:"Save Script"})]})]})})]})}}]),n}(a.Component),ae=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(ne),se=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.label,a=e.icon,s=e.className,i=void 0===s?"":s,o=Object(c.a)(e,K);return Object(j.jsxs)("div",{className:"field is-horizontal",children:[void 0===n?null:Object(j.jsx)("div",{className:"field-label is-normal",children:Object(j.jsx)("label",{className:"label",children:n})}),Object(j.jsx)("div",{className:"field-body",children:Object(j.jsx)("div",{className:"field",children:Object(j.jsxs)("div",Object(r.a)(Object(r.a)({className:"control ".concat(a?" has-icons-left":""," ").concat(i)},o),{},{children:[t,a&&Object(j.jsx)("span",{className:"icon is-small is-left",children:Object(j.jsx)("i",{className:a})})]}))})})]})}}]),n}(a.Component),ie={App:q,Title:F,EditButton:$},re=["className"],ce=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={isOpen:!1},a}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=void 0===n?"":n,s=Object(c.a)(t,re);return Object(j.jsxs)("div",{children:[Object(j.jsxs)("button",Object(r.a)(Object(r.a)({},s),{},{className:"button ".concat(a),onClick:function(){return e.setState({isOpen:!0})},children:[Object(j.jsx)("span",{className:"icon is-medium",children:Object(j.jsx)("i",{className:"fas fa-exclamation"})}),Object(j.jsx)("span",{className:"is-uppercase",children:"Disclaimer"})]})),Object(j.jsx)(oe,{isOpen:this.state.isOpen,onClose:function(){return e.setState({isOpen:!1})}})]})}}]),n}(a.Component),oe=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"modal"+(this.props.isOpen?" is-active":""),children:[Object(j.jsx)("div",{className:"modal-background",onClick:this.props.onClose}),Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsxs)("div",{className:"box",children:[Object(j.jsxs)("h4",{className:"title is-4",children:[Object(j.jsx)("span",{className:"icon is-medium",children:Object(j.jsx)("i",{className:"fas fa-exclamation"})}),"Disclaimer"]}),Object(j.jsx)("p",{children:"No one is responsible if you lose money using this tool and/or trusting its results."}),Object(j.jsx)("p",{children:"All it does is simulate you running a script on previous bustabit games. "}),Object(j.jsx)("p",{children:"Results achieved in the past don't provide any guarantee for the future."}),Object(j.jsx)("p",{children:"And, there's no guarantee that the simulated engine on this site, behaves in exactly the same way as the engine on bustabit."})]})}),Object(j.jsx)("button",{className:"modal-close is-large",onClick:this.props.onClose})]})}}]),n}(a.Component),le=["className"],ue=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={isOpen:!1},a}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=void 0===n?"":n,s=Object(c.a)(t,le);return Object(j.jsxs)("div",{children:[Object(j.jsxs)("button",Object(r.a)(Object(r.a)({},s),{},{className:"button ".concat(a),onClick:function(){return e.setState({isOpen:!0})},children:[Object(j.jsx)("span",{className:"icon",children:Object(j.jsx)("i",{className:"fas fa-hand-holding-usd"})}),Object(j.jsx)("span",{className:"is-uppercase",children:"Send a tip..."})]})),Object(j.jsx)(de,{isOpen:this.state.isOpen,onClose:function(){return e.setState({isOpen:!1})}})]})}}]),n}(a.Component),de=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"modal"+(this.props.isOpen?" is-active":""),children:[Object(j.jsx)("div",{className:"modal-background",onClick:this.props.onClose}),Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsxs)("div",{className:"box",children:[Object(j.jsx)("p",{children:Object(j.jsx)("strong",{children:"Hello fellow gambler!"})}),Object(j.jsxs)("p",{children:["I hope you like my Bustabit Simulator. I worked hard on it.",Object(j.jsx)("span",{className:"icon is-medium",children:Object(j.jsx)("i",{className:"fas fa-grin-beam-sweat"})})]}),Object(j.jsx)("p",{children:"If you use this tool regularly, please consider donating a dollar or two."}),Object(j.jsxs)("p",{children:[Object(j.jsx)("a",{href:"https://bustabit.com/tip",target:"_blank",rel:"noopener noreferrer",children:Object(j.jsx)("span",{children:"https://bustabit.com/tip"})}),Object(j.jsx)("span",{children:"My username is "}),Object(j.jsx)("span",{className:"is-bold",children:"Mtihc"})]}),Object(j.jsx)("p",{children:Object(j.jsx)("a",{href:"https://paypal.me/MitchStoffels",target:"_blank",rel:"noopener noreferrer",children:Object(j.jsx)("span",{children:"https://paypal.me/MitchStoffels"})})})]})}),Object(j.jsx)("button",{className:"modal-close is-large",onClick:this.props.onClose})]})}}]),n}(a.Component),be={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error"},he=n(40),pe=(n(57),["children","className","header","id","modal","onClose","type"]),je=["className","items","container","notificationProps"],me=["container"],fe=["notifications","className"];function _e(e){switch(e){case be.INFO:return"is-info";case be.WARNING:return"is-warning";case be.SUCCESS:return"is-success";case be.ERROR:return"is-danger";default:return"is-info"}}function Oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return!!e})).map((function(e){return e.toString()})).join(" ").replace(/\s+/g," ").trim()}var ge=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=void 0===n?"":n,s=e.header,i=e.id,o=e.modal,l=e.onClose,u=e.type,d=Object(c.a)(e,pe),b=Object(j.jsxs)("article",Object(r.a)(Object(r.a)({},d),{},{className:Oe("Notification","message",a,_e(u)),children:[(s||l)&&Object(j.jsxs)("div",{className:"message-header",children:[Object(j.jsx)("p",{children:s}),l&&Object(j.jsx)("button",{className:"delete",onClick:function(){return l(i)}})]}),Object(j.jsx)("div",{className:"message-body",children:t})]}));return o?Object(j.jsxs)("div",{className:"modal is-active",children:[Object(j.jsx)("div",{className:"modal-background",onClick:function(){return l(i)}}),Object(j.jsx)("div",{className:"modal-content",children:b})]}):b}}]),n}(a.Component);function ve(e){var t=e.className,n=e.items,a=e.container,s=e.notificationProps,i=Object(c.a)(e,je);return Object(j.jsx)("div",{className:Oe("NotificationsContainer","NotificationsContainer-".concat(a)),children:Object(j.jsx)(he.a,Object(r.a)(Object(r.a)({},i),{},{className:Oe("FlipMove",t),enterAnimation:"none",leaveAnimation:"none",children:n.filter((function(e){return e.container===a})).entrySeq().map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1],i=(a.container,Object(c.a)(a,me));return Object(j.jsx)(ge,Object(r.a)(Object(r.a)(Object(r.a)({},s),i),{},{children:a.children}),"Notification-".concat(n))}))}))})}var xe=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.notifications,n=e.className,a=void 0===n?"":n,s=Object(c.a)(e,fe);return Object(j.jsxs)("div",Object(r.a)(Object(r.a)({},s),{},{className:"Notifications ".concat(a).trim(),children:[Object(j.jsx)(ve,{items:t.items,container:"top-left"}),Object(j.jsx)(ve,{items:t.items,container:"top-right"}),Object(j.jsx)(ve,{items:t.items,container:"bottom-left"}),Object(j.jsx)(ve,{items:t.items,container:"bottom-right"})]}))}}]),n}(a.Component),Ee=xe,ye=new(n(41).Dispatcher),Ne={LOADED:"scripts/loaded",NEW:"scripts/new",CREATE_ERROR:"scripts/create-error",CREATED:"scripts/created",EDIT:"scripts/edit",UPDATE_ERROR:"scripts/update-error",UPDATED:"scripts/updated",CANCEL:"scripts/cancel",DELETE:"scripts/delete",DELETE_ERROR:"scripts/delete-error",DELETED:"scripts/deleted",SIMULATE:"scripts/simulate",SIMULATED:"scripts/simulated"},Se=n(12),Ce=n(24),we={OPEN:"notifications/open",CLOSE:"notifications/close"},Ae=["id","container","closeable","autoCloseTimeout"],ke={open:function(e,t,n){var a=this,s=n||{},i=s.id,o=void 0===i?Object(Ce.a)():i,l=s.container,u=void 0===l?"top-right":l,d=s.closeable,b=void 0===d||d,h=s.autoCloseTimeout,p=void 0===h?0:h,j=Object(c.a)(s,Ae),m=Object(r.a)({type:e,id:o,children:t,container:u,onClose:b?this.close.bind(this,o):void 0},j);ye.dispatch({type:we.OPEN,notification:m}),p&&setTimeout((function(){a.close(m.id)}),p)},info:function(e,t){this.open(be.INFO,e,t)},success:function(e,t){this.open(be.SUCCESS,e,t)},warning:function(e,t){this.open(be.WARNING,e,t)},error:function(e,t){this.open(be.ERROR,e,t)},close:function(e){ye.dispatch({type:we.CLOSE,id:e})}},Te={load:function(){var e=Se.a.load();ye.dispatch({type:Ne.LOADED,scripts:e})},restoreSamples:function(){var e=Se.a.restoreSamples();ye.dispatch({type:Ne.LOADED,scripts:e}),ke.success("Sample scripts restored.",{autoCloseTimeout:2e3,container:"bottom-left"})},restoreSample:function(e){var t=Se.a.restoreSample(e);ye.dispatch({type:Ne.LOADED,scripts:t})},delete:function(e){ye.dispatch({type:Ne.DELETE,id:e})},deleted:function(e){Se.a.delete(e),ye.dispatch({type:Ne.DELETED,id:e})},save:function(e){if(e.id)try{Se.a.save(e),ye.dispatch({type:Ne.UPDATED,script:e}),ke.success("Script saved.",{autoCloseTimeout:2e3,container:"bottom-left"})}catch(t){ye.dispatch({type:Ne.UPDATE_ERROR,script:e,error:t})}else try{Se.a.save(e),ye.dispatch({type:Ne.CREATED,script:e}),ke.success("Script saved.",{autoCloseTimeout:2e3,container:"bottom-left"})}catch(t){ye.dispatch({type:Ne.CREATE_ERROR,script:e,error:t})}},new:function(){ye.dispatch({type:Ne.NEW})},edit:function(e){ye.dispatch({type:Ne.EDIT,id:e})},cancel:function(){ye.dispatch({type:Ne.CANCEL})},select:function(e){ye.dispatch({type:Ne.SELECT,id:e})},deselect:function(){ye.dispatch({type:Ne.DESELECT})},run:function(e){Te.save(e.script),ye.dispatch({type:Ne.SIMULATE,settings:e}),Se.a.run(e).then((function(e){ye.dispatch({type:Ne.SIMULATED,results:e})}))},exportScripts:function(){Se.a.exportScripts().then((function(){ke.success("Scripts exported.",{autoCloseTimeout:2e3,container:"bottom-left"})})).catch((function(e){ke.error(e.message,{autoCloseTimeout:3e3})}))},exportScript:function(e){Se.a.exportScript(e)},copyScript:function(e){var t=Se.a.load()[e];Se.a.setClipboardContent(t.text).then((function(){ke.success("Script copied to clipboard",{autoCloseTimeout:3e3,container:"bottom-left"})}))}},De=Te,Pe=["className"];function Be(e){var t=e.className,n=void 0===t?"":t,a=Object(c.a)(e,Pe);return Object(j.jsx)("div",{children:Object(j.jsxs)("button",Object(r.a)(Object(r.a)({},a),{},{className:"button ".concat(n),onClick:De.exportScripts,children:[Object(j.jsx)("span",{className:"icon is-medium",children:Object(j.jsx)("i",{className:"fas fa-file-export"})}),Object(j.jsx)("span",{className:"is-uppercase",children:"Export All Scripts"})]}))})}var Me=function(e){return Object(j.jsxs)("div",{className:"AppView",children:[Object(j.jsx)("nav",{className:"navbar has-shadow",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"navbar-brand",children:Object(j.jsx)("div",{className:"navbar-item",children:Object(j.jsx)(ie.Title,{})})}),Object(j.jsx)("div",{className:"navbar-end",children:Object(j.jsx)("div",{className:"navbar-item",children:Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)(ce,{className:"is-small is-light"}),Object(j.jsx)(ue,{className:"is-small is-light"}),Object(j.jsx)(Be,{className:"is-small is-light"})]})})})]})}),Object(j.jsxs)("main",{children:[Object(j.jsx)(Ee,{notifications:e.notifications}),Object(j.jsx)(ie.App,{scripts:e.scripts})]})]})},Le=n(14),Ie=n(21),Re=new(function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.call(this,ye)}return Object(b.a)(n,[{key:"getInitialState",value:function(){return Ie.a.OrderedMap()}},{key:"reduce",value:function(e,t){switch(t.type){case Ne.LOADED:return e.clear().merge(t.scripts);case Ne.DELETED:return e.delete(t.id);case Ne.CREATED:case Ne.UPDATED:return e.set(t.script.id,t.script);default:return e}}}]),n}(Le.ReduceStore)),We=n(25),Ge=new(function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.call(this,ye)}return Object(b.a)(n,[{key:"getInitialState",value:function(){return Ie.a.OrderedMap({creating:void 0,editingId:void 0,deletingId:void 0,selectedId:void 0,isSimulating:!1,results:void 0,error:void 0})}},{key:"reduce",value:function(e,t){switch(t.type){case Ne.NEW:return e.set("creating",Object.assign({},We.a.NEW_SCRIPT)).set("createError",void 0);case Ne.CREATED:return e.set("creating",void 0).set("createError",void 0);case Ne.CREATE_ERROR:return e.set("createError",t.error);case Ne.EDIT:return e.set("editingId",t.id).set("updateError",void 0);case Ne.UPDATED:return e.set("editingId",void 0).set("updateError",void 0);case Ne.UPDATE_ERROR:return e.set("updateError",t.error);case Ne.DELETE:return e.set("deletingId",t.id).set("deleteError",void 0);case Ne.DELETED:return e.set("deletingId",void 0).set("deleteError",void 0);case Ne.DELETE_ERROR:return e.set("deleteError",t.error);case Ne.CANCEL:return e.set("creating",void 0).set("editingId",void 0).set("deletingId",void 0).set("createError",void 0).set("updateError",void 0).set("deleteError",void 0);case Ne.SELECT:return e.set("selectedId",t.id).set("results",void 0);case Ne.DESELECT:return e.set("selectedId",void 0);case Ne.SIMULATE:return e.set("results",void 0).set("isSimulating",!0);case Ne.SIMULATED:return e.set("results",t.results).set("isSimulating",!1);default:return e}}}]),n}(Le.ReduceStore)),Ue=new(function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.call(this,ye)}return Object(b.a)(n,[{key:"getInitialState",value:function(){return Ie.a.OrderedMap()}},{key:"reduce",value:function(e,t){switch(t.type){case we.OPEN:return e.set(t.notification.id,t.notification);case we.CLOSE:return e.delete(t.id);default:return e}}}]),n}(Le.ReduceStore));var He=Le.Container.createFunctional(Me,(function(){return[Re,Ge,Ue]}),(function(){var e=Re.getState(),t=Ge.getState(),n=Ue.getState();return{scripts:Object(r.a)(Object(r.a)({},{items:e,creating:t.get("creating"),editing:e.get(t.get("editingId")),deleting:e.get(t.get("deletingId")),selected:e.get(t.get("selectedId")),isLoading:t.get("isSimulating"),results:t.get("results"),createError:t.get("createError"),updateError:t.get("updateError"),deleteError:t.get("deleteError")}),{load:De.load,onNew:De.new,onEdit:De.edit,onCancel:De.cancel,onRestore:function(e){De.restoreSample(e),setTimeout((function(){De.cancel(),De.edit(e)}),100)},onSave:De.save,onDelete:De.delete,onDeleted:De.deleted,onSelect:De.select,onDeselect:De.deselect,onRun:De.run,exportScripts:De.exportScripts,exportScript:De.exportScript,restoreSamples:De.restoreSamples,copyScript:De.copyScript}),notifications:Object(r.a)({items:n},{open:ke.open,close:ke.close})}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.NotificationActions=ke,i.a.render(Object(j.jsx)(He,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[99,1,2]]]);
//# sourceMappingURL=main.b4430fac.chunk.js.map